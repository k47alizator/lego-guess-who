<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEGO Zgadnij Kto To!</title>
    <style>
        /* Twoje dotychczasowe style */
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: #1a1a1a; 
            color: white; 
            text-align: center; 
            margin: 0; 
            padding: 20px; 
        }
        h1 { color: #ffcc00; text-shadow: 2px 2px #000; }
        #menu { 
            background: #333; 
            padding: 20px; 
            border-radius: 15px; 
            margin: 0 auto 20px auto; 
            border: 3px solid #ffcc00; 
            max-width: 800px;
        }
        button { 
            background: #444; color: white; border: 2px solid #ffcc00; 
            padding: 10px 15px; margin: 5px; border-radius: 8px; 
            cursor: pointer; transition: 0.3s; font-weight: bold;
        }
        button:hover { background: #ffcc00; color: black; }
        
        .card-img { 
            width: 100%; height: 150px; 
            background-size: contain; background-repeat: no-repeat; 
            background-position: center; margin-bottom: 10px;
        }
        #character-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
            gap: 15px; padding: 20px; max-width: 1200px; margin: 0 auto; 
        }
        .card { 
            background: white; color: black; padding: 10px; 
            border-radius: 10px; cursor: pointer; transition: 0.2s; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.5); 
        }
        .card.hidden { opacity: 0.15; filter: grayscale(100%) brightness(50%); }

        /* NOWE STYLE DLA PRZYCISKÓW KATEGORII I LOBBY */
        .cat-btn {
            padding: 12px 18px;
            background: #444;
            color: white;
            border: 2px solid #555;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
            min-width: 140px;
        }

        .cat-btn:hover {
            background: #00ff00;
            color: black;
            transform: scale(1.05);
            border-color: white;
        }

        @media (max-width: 600px) {
            #setup-view {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
        }
    </style>
</head>
<body>

    <h1>LEGO Zgadnij Kto To!</h1>

   <div id="menu" style="text-align: center; font-family: sans-serif; padding: 20px;">
    <h1 style="color: #ffcc00; text-shadow: 2px 2px black; font-size: 3em; margin-bottom: 10px;">LEGO GUESS WHO</h1>

    <div id="setup-view" style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 30px;">
        
        <div style="background: #2a2a2a; padding: 25px; border: 3px solid #0088ff; border-radius: 20px; width: 300px; box-shadow: 0 4px 15px rgba(0,0,0,0.5);">
            <h3 style="color: #0088ff; margin-top: 0;">STWÓRZ GRĘ</h3>
            <p style="font-size: 14px; color: #bbb; min-height: 40px;">Wybierz tę opcję, aby wygenerować nowy kod dla siebie i znajomego.</p>
            <button onclick="createGame()" style="background: #0088ff; color: white; width: 100%; font-size: 18px; padding: 15px; border-radius: 10px; cursor: pointer; border: none; font-weight: bold;">GENERUJ KOD</button>
        </div>

        <div style="background: #2a2a2a; padding: 25px; border: 3px solid #ffcc00; border-radius: 20px; width: 300px; box-shadow: 0 4px 15px rgba(0,0,0,0.5);">
            <h3 style="color: #ffcc00; margin-top: 0;">DOŁĄCZ DO GRY</h3>
            <p style="font-size: 14px; color: #bbb; min-height: 40px;">Wpisz kod, który dostałeś od znajomego, aby mieć te same karty.</p>
            <input type="text" id="room-input" placeholder="WPISZ KOD" 
                   style="padding: 12px; border-radius: 8px; border: none; width: 85%; text-align: center; font-size: 18px; font-weight: bold; text-transform: uppercase; margin-bottom: 15px; background: #eee;">
            <button onclick="joinGame()" style="background: #ffcc00; color: black; width: 100%; font-size: 18px; padding: 15px; border-radius: 10px; cursor: pointer; border: none; font-weight: bold;">DOŁĄCZ</button>
        </div>
    </div>

    <div id="lobby-view" style="display: none; margin-top: 20px;">
        <div style="background: #333; padding: 20px; border-radius: 15px; display: inline-block; border: 2px solid #00ff00; margin-bottom: 20px;">
            <p style="margin: 0; color: #bbb; font-size: 14px;">KOD TWOJEGO POKOJU:</p>
            <h2 id="display-code" style="margin: 10px 0; color: white; font-size: 40px; letter-spacing: 5px; background: #111; padding: 10px 30px; border-radius: 10px; font-family: monospace;">---</h2>
            <button onclick="copyRoomLink()" style="background: #444; color: white; border: 1px solid #666; padding: 8px 15px; border-radius: 5px; font-size: 12px; cursor: pointer;">Skopiuj Link (Wyślij znajomemu)</button>
        </div>

        <h3 style="margin-bottom: 20px; color: white;">Teraz wybierz kategorię, aby zacząć:</h3>
<div id="category-buttons" style="max-width: 900px; margin: 0 auto; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;">
    <button class="cat-btn" onclick="initGame('LEGO INIEMAMOCNI')">Iniemamocni</button>
    <button class="cat-btn" onclick="initGame('LEGO STAR WARS')">Star Wars</button>
    <button class="cat-btn" onclick="initGame('LEGO MARVEL / AVENGERS')">Marvel / Avengers</button>
    <button class="cat-btn" onclick="initGame('LEGO HARRY POTTER')">Harry Potter</button>
    <button class="cat-btn" onclick="initGame('LEGO LOTR / HOBBIT')">Władca Pierścieni / Hobbit</button>
    <button class="cat-btn" onclick="initGame('LEGO BATMAN (1-3)')">Batman</button>
    <button class="cat-btn" onclick="initGame('LEGO CITY UNDERCOVER')">City Undercover</button>
    <button class="cat-btn" onclick="initGame('LEGO INDIANA JONES')">Indiana Jones</button>
    <button class="cat-btn" onclick="initGame('LEGO PIRACI Z KARAIBÓW')">Piraci z Karaibów</button>
    <button class="cat-btn" onclick="initGame('LEGO JURASSIC WORLD')">Jurassic World</button>
    <button class="cat-btn" onclick="initGame('LEGO PRZYGODA (1 i 2)')">Lego Przygoda</button>
    <button class="cat-btn" onclick="initGame('LEGO NINJAGO')">Ninjago</button>
    <button class="cat-btn" onclick="initGame('LEGO DIMENSIONS')">Dimensions</button>
    
    <button class="cat-btn" onclick="initGame('MIX')" style="background: linear-gradient(orange, darkorange); color: black; font-weight: bold; border: 1px solid black;">TRYB MIX (Wszystkie)</button>
</div>
        
        <div style="margin-top: 40px;">
            <button onclick="location.reload()" style="background: none; border: none; color: #888; text-decoration: underline; cursor: pointer; font-size: 14px;">← Zmień kod pokoju / Wróć</button>
        </div>
    </div>
</div>

<script>
    const db = {}; // Twoja baza danych wypełni się poniżej

    // Funkcje obsługi pokoju i kopiowania linków
    function updateRoomStatus() {
        const input = document.getElementById('room-input');
        const status = document.getElementById('room-status');
        const share = document.getElementById('share-section');

        if (input.value.length > 0) {
            status.innerText = "USTAWIANIE POKOJU: " + input.value.toUpperCase();
            status.style.color = "#00ff00";
            share.style.display = "block";
        } else {
            status.innerText = "TRYB SOLO";
            status.style.color = "#ffcc00";
            share.style.display = "none";
        }
    }

    function copyRoomLink() {
        const code = document.getElementById('room-input').value;
        const url = window.location.href.split('?')[0] + "?room=" + encodeURIComponent(code);
        navigator.clipboard.writeText(url).then(() => {
            alert("Link skopiowany! Wyślij go znajomemu.");
        });
    }

    function initGame(category) {
        const menu = document.getElementById('menu');
        const gameArea = document.getElementById('game-area');
        const grid = document.getElementById('character-grid');
        const targetNameDisplay = document.getElementById('target-name');
        
        // Pobieramy kod pokoju
        const roomInput = document.getElementById('room-input');
        const roomCode = (roomInput && roomInput.value.trim() !== "") ? roomInput.value.trim() : Math.random().toString();
        
        let characterPool = [];
        if (category === "MIX") {
            Object.keys(db).forEach(key => { characterPool = characterPool.concat(db[key]); });
        } else if (db[category]) {
            characterPool = [...db[category]];
        }

        if (characterPool.length === 0) return alert("Błąd bazy danych!");
        grid.innerHTML = ''; 

        // Mieszanie na podstawie kodu (Seed)
        let seed = 0;
        for(let i=0; i<roomCode.length; i++) seed += roomCode.charCodeAt(i);
        const seededRandom = () => {
            seed = (seed * 9301 + 49297) % 233280;
            return seed / 233280;
        };

        let shuffled = [...characterPool].sort(() => seededRandom() - 0.5);
        const selectedCharacters = shuffled.slice(0, 24);

        const targetCharacter = selectedCharacters[Math.floor(Math.random() * selectedCharacters.length)];
        targetNameDisplay.innerText = targetCharacter.n;

        selectedCharacters.forEach(char => {
            const searchName = char.n.replace(/\(.*\)/, '').trim();
            const searchQuery = encodeURIComponent("lego " + searchName + " minifigure");
            const imgUrl = `https://tse2.mm.bing.net/th?q=${searchQuery}&w=200&h=200&c=7&rs=1&p=0&dpr=1&pid=1.7`;

            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-img" style="height: 140px; display: flex; align-items: center; justify-content: center; background: #eee; border-radius: 5px; overflow: hidden;">
                    <img src="${imgUrl}" onerror="this.src='https://via.placeholder.com/150?text=LEGO'" style="max-width: 100%; max-height: 100%; object-fit: contain;">
                </div>
                <p style="margin-top: 8px; font-weight: bold; font-size: 12px; color: black;">${char.n}</p>
            `;
            card.onclick = () => card.classList.toggle('hidden');
            grid.appendChild(card);
        });

        menu.style.display = 'none';
        gameArea.style.display = 'block';
    }

    function backToMenu() {
        document.getElementById('menu').style.display = 'block';
        document.getElementById('game-area').style.display = 'none';
    }

    // Automatyczne wczytywanie kodu z linku
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        const roomFromUrl = urlParams.get('room');
        if (roomFromUrl) {
            document.getElementById('room-input').value = roomFromUrl;
            updateRoomStatus();
        }
    }

        // --- TUTAJ ZACZYNAJĄ SIĘ TWOJE DANE ---

        db["LEGO STAR WARS"] = [
    // --- LUKE SKYWALKER ---
    {n:"Luke Skywalker (Tatooine)", img:"ls1.jpg"}, {n:"Luke Skywalker (X-Wing)", img:"ls2.jpg"}, {n:"Luke Skywalker (Bespin)", img:"ls3.jpg"}, {n:"Luke Skywalker (Dagobah)", img:"ls4.jpg"}, {n:"Luke Skywalker (Jedi Knight)", img:"ls5.jpg"}, {n:"Luke Skywalker (Endor)", img:"ls6.jpg"}, {n:"Luke Skywalker (Stormtrooper)", img:"ls7.jpg"}, {n:"Luke Skywalker (Hoth)", img:"ls8.jpg"}, {n:"Luke Skywalker (Ceremony)", img:"ls9.jpg"}, {n:"Luke Skywalker (Old - Ahch-To)", img:"ls10.jpg"}, {n:"Luke Skywalker (Crait)", img:"ls11.jpg"}, {n:"Luke Skywalker (Force Ghost)", img:"ls12.jpg"}, {n:"Luke Skywalker (Bacta Tank)", img:"ls13.jpg"}, {n:"Luke Skywalker (Snowspeeder)", img:"ls14.jpg"},
    
    // --- ANAKIN & VADER ---
    {n:"Darth Vader", img:"dv1.jpg"}, {n:"Darth Vader (No Mask)", img:"dv2.jpg"}, {n:"Darth Vader (Battle Damaged)", img:"dv3.jpg"}, {n:"Darth Vader (Holiday)", img:"dv4.jpg"}, {n:"Anakin Skywalker (Child)", img:"as1.jpg"}, {n:"Anakin Skywalker (Padawan)", img:"as2.jpg"}, {n:"Anakin Skywalker (Jedi Knight)", img:"as3.jpg"}, {n:"Anakin Skywalker (Sith)", img:"as4.jpg"}, {n:"Anakin Skywalker (Ghost)", img:"as5.jpg"}, {n:"Anakin Skywalker (Podracer)", img:"as6.jpg"}, {n:"Anakin Skywalker (Parka)", img:"as7.jpg"},
    
    // --- OBI-WAN KENOBI ---
    {n:"Obi-Wan Kenobi (Padawan)", img:"ok1.jpg"}, {n:"Obi-Wan Kenobi (Episod II)", img:"ok2.jpg"}, {n:"Obi-Wan Kenobi (Episod III)", img:"ok3.jpg"}, {n:"Obi-Wan Kenobi (Old Ben)", img:"ok4.jpg"}, {n:"Obi-Wan Kenobi (Ghost)", img:"ok5.jpg"}, {n:"Obi-Wan Kenobi (Clone Wars)", img:"ok6.jpg"},
    
    // --- HAN SOLO & LEIA ---
    {n:"Han Solo (Tatooine)", img:"hs1.jpg"}, {n:"Han Solo (Hoth)", img:"hs2.jpg"}, {n:"Han Solo (Endor)", img:"hs3.jpg"}, {n:"Han Solo (Bespin)", img:"hs4.jpg"}, {n:"Han Solo (Young)", img:"hs5.jpg"}, {n:"Han Solo (Old)", img:"hs6.jpg"}, {n:"Han Solo (Stormtrooper)", img:"hs7.jpg"}, {n:"Han Solo (Carbonite)", img:"hs8.jpg"}, {n:"Han Solo (Beckett's Crew)", img:"hs9.jpg"},
    {n:"Princess Leia (Senator)", img:"pl1.jpg"}, {n:"Princess Leia (Hoth)", img:"pl2.jpg"}, {n:"Princess Leia (Bespin)", img:"pl3.jpg"}, {n:"Princess Leia (Slave)", img:"pl4.jpg"}, {n:"Princess Leia (Endor)", img:"pl5.jpg"}, {n:"Princess Leia (Boushh)", img:"pl6.jpg"}, {n:"General Leia Organa", img:"pl7.jpg"}, {n:"Leia (Village)", img:"pl8.jpg"},
    
    // --- INNI JEDI I MISTRZOWIE ---
    {n:"Yoda", img:"y1.jpg"}, {n:"Yoda (Ghost)", img:"y2.jpg"}, {n:"Mace Windu", img:"mw1.jpg"}, {n:"Qui-Gon Jinn", img:"qg1.jpg"}, {n:"Kit Fisto", img:"kf1.jpg"}, {n:"Plo Koon", img:"pk1.jpg"}, {n:"Aayla Secura", img:"as1.jpg"}, {n:"Ki-Adi-Mundi", img:"km1.jpg"}, {n:"Luminara Unduli", img:"lu1.jpg"}, {n:"Shaak Ti", img:"st1.jpg"}, {n:"Eeth Koth", img:"ek1.jpg"}, {n:"Saesee Tiin", img:"st2.jpg"}, {n:"Agen Kolar", img:"ak1.jpg"}, {n:"Adi Gallia", img:"ag1.jpg"}, {n:"Ahsoka Tano (Padawan)", img:"at1.jpg"}, {n:"Ahsoka Tano (Clone Wars)", img:"at2.jpg"}, {n:"Ahsoka Tano (Adult)", img:"at3.jpg"}, {n:"Jocasta Nu", img:"jn1.jpg"}, {n:"Yaddle", img:"yd1.jpg"}, {n:"Barriss Offee", img:"bo1.jpg"},
    
    // --- SITH I ZŁOCZYŃCY ---
    {n:"Darth Maul", img:"dm1.jpg"}, {n:"Darth Maul (Cyborg)", img:"dm2.jpg"}, {n:"Emperor Palpatine", img:"ep1.jpg"}, {n:"Chancellor Palpatine", img:"ep2.jpg"}, {n:"Darth Sidious", img:"ep3.jpg"}, {n:"Count Dooku", img:"cd1.jpg"}, {n:"General Grievous", img:"gg1.jpg"}, {n:"Asajj Ventress", img:"av1.jpg"}, {n:"Savage Opress", img:"so1.jpg"}, {n:"Grand Inquisitor", img:"gi1.jpg"}, {n:"Seventh Sister", img:"ss1.jpg"}, {n:"Fifth Brother", img:"fb1.jpg"}, {n:"Eighth Brother", img:"eb1.jpg"}, {n:"Kylo Ren", img:"kr1.jpg"}, {n:"Kylo Ren (No Mask)", img:"kr2.jpg"}, {n:"Supreme Leader Snoke", img:"sn1.jpg"}, {n:"Captain Phasma", img:"cp1.jpg"}, {n:"General Hux", img:"gh1.jpg"}
];
        db["LEGO STAR WARS"].push(
    // --- ARMIA KLONÓW ---
    {n:"Clone Trooper (Phase 1)", img:"ct1.jpg"}, {n:"Clone Trooper (Phase 2)", img:"ct2.jpg"}, {n:"Captain Rex", img:"ct3.jpg"}, {n:"Commander Cody", img:"ct4.jpg"}, {n:"Commander Gree", img:"ct5.jpg"}, {n:"Commander Fox", img:"ct6.jpg"}, {n:"Commander Neyo", img:"ct7.jpg"}, {n:"ARC Trooper", img:"ct8.jpg"}, {n:"Clone Pilot", img:"ct9.jpg"}, {n:"Clone Sharpshooter", img:"ct10.jpg"}, {n:"501st Legion Clone Trooper", img:"ct11.jpg"}, {n:"212th Attack Battalion Trooper", img:"ct12.jpg"}, {n:"Wolfpack Clone Trooper", img:"ct13.jpg"}, {n:"Bad Batch Hunter", img:"ct14.jpg"}, {n:"Bad Batch Wrecker", img:"ct15.jpg"}, {n:"Bad Batch Tech", img:"ct16.jpg"}, {n:"Bad Batch Echo", img:"ct17.jpg"}, {n:"Bad Batch Crosshair", img:"ct18.jpg"},
    
    // --- IMPERIUM (Szturmowcy) ---
    {n:"Stormtrooper", img:"st1.jpg"}, {n:"Sandtrooper", img:"st2.jpg"}, {n:"Snowtrooper", img:"st3.jpg"}, {n:"Scout Trooper", img:"st4.jpg"}, {n:"Death Trooper", img:"st5.jpg"}, {n:"Shoretrooper", img:"st6.jpg"}, {n:"Range Trooper", img:"st7.jpg"}, {n:"Patrol Trooper", img:"st8.jpg"}, {n:"Mudtrooper", img:"st9.jpg"}, {n:"Tie Fighter Pilot", img:"st10.jpg"}, {n:"AT-AT Pilot", img:"st11.jpg"}, {n:"Imperial Guard", img:"st12.jpg"}, {n:"Grand Moff Tarkin", img:"st13.jpg"}, {n:"Director Krennic", img:"st14.jpg"}, {n:"Admiral Piett", img:"st15.jpg"}, {n:"General Veers", img:"st16.jpg"}, {n:"Imperial Officer", img:"st17.jpg"}, {n:"Imperial Navy Pilot", img:"st18.jpg"},
    
    // --- ŁOWCY NAGRÓD I NAJEMNICY ---
    {n:"Boba Fett", img:"bf1.jpg"}, {n:"Jango Fett", img:"jf1.jpg"}, {n:"Greedo", img:"gr1.jpg"}, {n:"Bossk", img:"bo1.jpg"}, {n:"Dengar", img:"de1.jpg"}, {n:"IG-88", img:"ig1.jpg"}, {n:"Zuckuss", img:"zu1.jpg"}, {n:"4-LOM", img:"4l1.jpg"}, {n:"Aurra Sing", img:"au1.jpg"}, {n:"Cad Bane", img:"ca1.jpg"}, {n:"Embo", img:"em1.jpg"}, {n:"Zam Wesell", img:"za1.jpg"}, {n:"Fennec Shand", img:"fe1.jpg"}, {n:"Din Djarin (Mando)", img:"ma1.jpg"}, {n:"Greef Karga", img:"gk1.jpg"}, {n:"Kuiil", img:"ku1.jpg"},
    
    // --- DROIDY ---
    {n:"R2-D2", img:"r21.jpg"}, {n:"C-3PO", img:"c31.jpg"}, {n:"BB-8", img:"bb1.jpg"}, {n:"R5-D4", img:"r51.jpg"}, {n:"R4-P17", img:"r41.jpg"}, {n:"Chopper", img:"ch1.jpg"}, {n:"K-2SO", img:"k21.jpg"}, {n:"IG-11", img:"ig2.jpg"}, {n:"D-O", img:"do1.jpg"}, {n:"Gonker (Gonk Droid)", img:"go1.jpg"}, {n:"Mouse Droid", img:"mo1.jpg"}, {n:"B1 Battle Droid", img:"bd1.jpg"}, {n:"B1 Security Droid", img:"bd2.jpg"}, {n:"B1 Commander Droid", img:"bd3.jpg"}, {n:"B1 Pilot Droid", img:"bd4.jpg"}, {n:"B2 Super Battle Droid", img:"sbd1.jpg"}, {n:"Droideka", img:"dr1.jpg"}, {n:"Commando Droid", img:"cd1.jpg"}, {n:"Magnaguard", img:"mg1.jpg"}, {n:"Probe Droid", img:"pd1.jpg"},
    
    // --- MIESZKAŃCY GALAKTYKI ---
    {n:"Jabba the Hutt", img:"ja1.jpg"}, {n:"Wicket (Ewok)", img:"wi1.jpg"}, {n:"Logray", img:"lo1.jpg"}, {n:"Admiral Ackbar", img:"ac1.jpg"}, {n:"Nien Nunb", img:"ni1.jpg"}, {n:"Bib Fortuna", img:"bi1.jpg"}, {n:"Gamorrean Guard", img:"ga1.jpg"}, {n:"Jar Jar Binks", img:"jj1.jpg"}, {n:"Watto", img:"wa1.jpg"}, {n:"Sebulba", img:"se1.jpg"}, {n:"Maz Kanata", img:"mk1.jpg"}, {n:"Babu Frik", img:"bf2.jpg"}, {n:"Poggle the Lesser", img:"po1.jpg"}, {n:"Wat Tambor", img:"wt1.jpg"}
);
        db["LEGO STAR WARS"].push(
    // --- PILOCI REBELII I RUCHU OPORU ---
    {n:"Wedge Antilles", img:"sw1.jpg"}, {n:"Biggs Darklighter", img:"sw2.jpg"}, {n:"Dak Ralter", img:"sw3.jpg"}, {n:"Jek Porkins", img:"sw4.jpg"}, {n:"Zev Senesca", img:"sw5.jpg"}, {n:"Ten Numb", img:"sw6.jpg"}, {n:"B-Wing Pilot", img:"sw7.jpg"}, {n:"A-Wing Pilot", img:"sw8.jpg"}, {n:"U-Wing Pilot", img:"sw9.jpg"}, {n:"Snap Wexley", img:"sw10.jpg"}, {n:"Tallie Lintra", img:"sw11.jpg"}, {n:"Ello Asty", img:"sw12.jpg"},
    
    // --- RUCH OPORU (RESISTANCE) ---
    {n:"Rey (Jakku)", img:"sw13.jpg"}, {n:"Rey (Resistance Outfit)", img:"sw14.jpg"}, {n:"Rey (Jedi Training)", img:"sw15.jpg"}, {n:"Rey (Kijimi)", img:"sw16.jpg"}, {n:"Finn (Jakku)", img:"sw17.jpg"}, {n:"Finn (Bacta Suit)", img:"sw18.jpg"}, {n:"Finn (First Order Officer)", img:"sw19.jpg"}, {n:"Rose Tico", img:"sw20.jpg"}, {n:"Rose Tico (Technician)", img:"sw21.jpg"}, {n:"Admiral Holdo", img:"sw22.jpg"}, {n:"Kaydel Ko Connix", img:"sw23.jpg"}, {n:"Zorii Bliss", img:"sw24.jpg"}, {n:"Jannah", img:"sw25.jpg"}, {n:"Lor San Tekka", img:"sw26.jpg"},
    
    // --- NAJWYŻSZY PORZĄDEK (FIRST ORDER) ---
    {n:"FO Stormtrooper", img:"sw27.jpg"}, {n:"FO Heavy Assault Trooper", img:"sw28.jpg"}, {n:"FO Flametrooper", img:"sw29.jpg"}, {n:"FO Snowtrooper", img:"sw30.jpg"}, {n:"FO Special Forces TIE Pilot", img:"sw31.jpg"}, {n:"FO Executioner", img:"sw32.jpg"}, {n:"FO Jet Trooper", img:"sw33.jpg"}, {n:"FO Officer", img:"sw34.jpg"}, {n:"FO Crew", img:"sw35.jpg"}, {n:"Sith Trooper", img:"sw36.jpg"}, {n:"Sith Jet Trooper", img:"sw37.jpg"}, {n:"Praetorian Guard", img:"sw38.jpg"}, {n:"Knights of Ren (Vicrul)", img:"sw39.jpg"}, {n:"Knights of Ren (Cardo)", img:"sw40.jpg"}, {n:"Knights of Ren (Ushar)", img:"sw41.jpg"}, {n:"Knights of Ren (Kuruk)", img:"sw42.jpg"}, {n:"Knights of Ren (Trudgen)", img:"sw43.jpg"}, {n:"Knights of Ren (Ap'lek)", img:"sw44.jpg"},
    
    // --- SERIALE: REBELIANCI (REBELS) ---
    {n:"Ezra Bridger", img:"sw45.jpg"}, {n:"Ezra Bridger (Season 3)", img:"sw46.jpg"}, {n:"Kanan Jarrus", img:"sw47.jpg"}, {n:"Kanan Jarrus (Blind)", img:"sw48.jpg"}, {n:"Hera Syndulla", img:"sw49.jpg"}, {n:"Sabine Wren", img:"sw50.jpg"}, {n:"Zeb Orrelios", img:"sw51.jpg"}, {n:"Agent Kallus", img:"sw52.jpg"}, {n:"Grand Admiral Thrawn", img:"sw53.jpg"}, {n:"The Inquisitor", img:"sw54.jpg"},
    
    // --- SERIALE: MANDALORIAN I BOBA FETT ---
    {n:"The Child (Grogu)", img:"sw55.jpg"}, {n:"Moff Gideon", img:"sw56.jpg"}, {n:"Bo-Katan Kryze", img:"sw57.jpg"}, {n:"Cara Dune", img:"sw58.jpg"}, {n:"IG-11 (Nurse)", img:"sw59.jpg"}, {n:"Paz Vizsla", img:"sw60.jpg"}, {n:"The Armorer", img:"sw61.jpg"}, {n:"Cobb Vanth", img:"sw62.jpg"}, {n:"Boba Fett (Re-armored)", img:"sw63.jpg"}, {n:"Krrsantan", img:"sw64.jpg"}, {n:"Cad Bane (Live Action)", img:"sw65.jpg"},
    
    // --- POSTACIE TŁA I INNE ---
    {n:"Mon Mothma", img:"sw66.jpg"}, {n:"Bail Organa", img:"sw67.jpg"}, {n:"General Rieekan", img:"sw68.jpg"}, {n:"General Madine", img:"sw69.jpg"}, {n:"Garindan", img:"sw70.jpg"}, {n:"Figrin D'an", img:"sw71.jpg"}, {n:"Muftak", img:"sw72.jpg"}, {n:"Kabe", img:"sw73.jpg"}, {n:"Momaw Nadon", img:"sw74.jpg"}, {n:"Ponda Baba", img:"sw75.jpg"}, {n:"Dr. Evazan", img:"sw76.jpg"}, {n:"Ugnaught", img:"sw77.jpg"}, {n:"Lobot", img:"sw78.jpg"}, {n:"Willrow Hood", img:"sw79.jpg"}, {n:"Malakili", img:"sw80.jpg"}, {n:"Oola", img:"sw81.jpg"}
);
       db["LEGO MARVEL / AVENGERS"] = [
    // --- IRON MAN & TONY STARK ---
    {n:"Iron Man (MK 1)", img:"im1.jpg"}, {n:"Iron Man (MK 5)", img:"im2.jpg"}, {n:"Iron Man (MK 6)", img:"im3.jpg"}, {n:"Iron Man (MK 42)", img:"im4.jpg"}, {n:"Iron Man (MK 43)", img:"im5.jpg"}, {n:"Iron Man (MK 45)", img:"im6.jpg"}, {n:"Iron Man (MK 50)", img:"im7.jpg"}, {n:"Hulkbuster", img:"im8.jpg"}, {n:"Tony Stark", img:"im9.jpg"}, {n:"Tony Stark (Underwear)", img:"im10.jpg"}, {n:"Superior Iron Man", img:"im11.jpg"},
    
    // --- CAPTAIN AMERICA & FRIENDS ---
    {n:"Captain America", img:"ca1.jpg"}, {n:"Captain America (No Helmet)", img:"ca2.jpg"}, {n:"Captain America (WW2)", img:"ca3.jpg"}, {n:"Captain America (Sam Wilson)", img:"ca4.jpg"}, {n:"Winter Soldier", img:"ws1.jpg"}, {n:"Winter Soldier (Masked)", img:"ws2.jpg"}, {n:"Bucky Barnes", img:"bb1.jpg"}, {n:"Falcon", img:"fa1.jpg"}, {n:"Falcon (Classic)", img:"fa2.jpg"},
    
    // --- SPIDER-MAN UNIVERSE ---
    {n:"Spider-Man", img:"sp1.jpg"}, {n:"Spider-Man (Miles Morales)", img:"sp2.jpg"}, {n:"Spider-Man (Peter Parker)", img:"sp3.jpg"}, {n:"Spider-Gwen", img:"sp4.jpg"}, {n:"Spider-Ham", img:"sp5.jpg"}, {n:"Spider-Man 2099", img:"sp6.jpg"}, {n:"Spider-Man (Noir)", img:"sp7.jpg"}, {n:"Spider-Man (Symbiote)", img:"sp8.jpg"}, {n:"Spider-Man (Iron Spider)", img:"sp9.jpg"}, {n:"Venom", img:"ve1.jpg"}, {n:"Agent Venom", img:"ve2.jpg"}, {n:"Carnage", img:"ve3.jpg"}, {n:"Anti-Venom", img:"ve4.jpg"},
    
    // --- AVENGERS & S.H.I.E.L.D. ---
    {n:"Thor", img:"th1.jpg"}, {n:"Thor (Ragnarok)", img:"th2.jpg"}, {n:"Thor (Classic)", img:"th3.jpg"}, {n:"Jane Foster (Thor)", img:"th4.jpg"}, {n:"Hulk", img:"hu1.jpg"}, {n:"Bruce Banner", img:"hu2.jpg"}, {n:"She-Hulk", img:"hu3.jpg"}, {n:"Red Hulk", img:"hu4.jpg"}, {n:"Black Widow", img:"bw1.jpg"}, {n:"Black Widow (Grey)", img:"bw2.jpg"}, {n:"Hawkeye", img:"ha1.jpg"}, {n:"Hawkeye (Ronin)", img:"ha2.jpg"}, {n:"Nick Fury", img:"nf1.jpg"}, {n:"Maria Hill", img:"mh1.jpg"}, {n:"Agent Coulson", img:"ac1.jpg"}, {n:"Vision", img:"vi1.jpg"}, {n:"Scarlet Witch", img:"sw1.jpg"}, {n:"Quicksilver", img:"qs1.jpg"}, {n:"Ant-Man (Scott Lang)", img:"am1.jpg"}, {n:"Ant-Man (Hank Pym)", img:"am2.jpg"}, {n:"Wasp", img:"wa1.jpg"}, {n:"Black Panther", img:"bp1.jpg"}, {n:"Shuri", img:"bp2.jpg"}, {n:"Okoye", img:"bp3.jpg"},
    
    // --- X-MEN & FANTASTIC FOUR ---
    {n:"Wolverine", img:"wo1.jpg"}, {n:"Wolverine (Brown)", img:"wo2.jpg"}, {n:"Logan", img:"wo3.jpg"}, {n:"Cyclops", img:"cy1.jpg"}, {n:"Storm", img:"st1.jpg"}, {n:"Jean Grey", img:"jg1.jpg"}, {n:"Phoenix", img:"jg2.jpg"}, {n:"Beast", img:"be1.jpg"}, {n:"Professor X", img:"px1.jpg"}, {n:"Magneto", img:"ma1.jpg"}, {n:"Mystique", img:"my1.jpg"}, {n:"Sabretooth", img:"sa1.jpg"}, {n:"Deadpool", img:"dp1.jpg"}, {n:"Deadpool (X-Force)", img:"dp2.jpg"}, {n:"Gwenpool", img:"dp3.jpg"}, {n:"Mr. Fantastic", img:"ff1.jpg"}, {n:"Invisible Woman", img:"ff2.jpg"}, {n:"Human Torch", img:"ff3.jpg"}, {n:"Thing", img:"ff4.jpg"}, {n:"Doctor Doom", img:"dd1.jpg"}, {n:"Silver Surfer", img:"si1.jpg"}
];
        db["LEGO MARVEL / AVENGERS"].push(
    // --- GUARDIANS OF THE GALAXY ---
    {n:"Star-Lord", img:"sl1.jpg"}, {n:"Star-Lord (Grey Suit)", img:"sl2.jpg"}, {n:"Gamora", img:"ga1.jpg"}, {n:"Drax", img:"dr1.jpg"}, {n:"Rocket Raccoon", img:"rr1.jpg"}, {n:"Groot", img:"gr1.jpg"}, {n:"Groot (Small)", img:"gr2.jpg"}, {n:"Baby Groot", img:"gr3.jpg"}, {n:"Yondu", img:"yo1.jpg"}, {n:"Nebula", img:"ne1.jpg"}, {n:"Mantis", img:"ma1.jpg"}, {n:"Adam Warlock", img:"aw1.jpg"}, {n:"Nova (Richard Rider)", img:"no1.jpg"}, {n:"Cosmo", img:"co1.jpg"},
    
    // --- COSMIC & MAGIC ENTITIES ---
    {n:"Doctor Strange", img:"ds1.jpg"}, {n:"Wong", img:"wo1.jpg"}, {n:"Ancient One", img:"ao1.jpg"}, {n:"Ghost Rider (Johnny Blaze)", img:"gr1.jpg"}, {n:"Ghost Rider (Robbie Reyes)", img:"gr2.jpg"}, {n:"Moon Knight", img:"mk1.jpg"}, {n:"Daredevil", img:"da1.jpg"}, {n:"Iron Fist", img:"if1.jpg"}, {n:"Luke Cage", img:"lc1.jpg"}, {n:"Jessica Jones", img:"jj1.jpg"}, {n:"Punisher", img:"pu1.jpg"}, {n:"Blade", img:"bl1.jpg"},
    
    // --- VILLAINS (ZŁOCZYŃCY) ---
    {n:"Thanos", img:"th1.jpg"}, {n:"Thanos (Gauntlet)", img:"th2.jpg"}, {n:"Loki", img:"lo1.jpg"}, {n:"Loki (Suit)", img:"lo2.jpg"}, {n:"Ultron (Prime)", img:"ul1.jpg"}, {n:"Ultron (Sentry)", img:"ul2.jpg"}, {n:"Red Skull", img:"rs1.jpg"}, {n:"Arnim Zola", img:"az1.jpg"}, {n:"Baron Zemo", img:"bz1.jpg"}, {n:"Green Goblin", img:"gg1.jpg"}, {n:"Doctor Octopus", img:"do1.jpg"}, {n:"Sandman", img:"sa1.jpg"}, {n:"Electro", img:"el1.jpg"}, {n:"Mysterio", img:"my1.jpg"}, {n:"Vulture", img:"vu1.jpg"}, {n:"Kraven the Hunter", img:"kh1.jpg"}, {n:"Kingpin", img:"ki1.jpg"}, {n:"Bullseye", img:"bu1.jpg"}, {n:"M.O.D.O.K.", img:"mo1.jpg"}, {n:"Abomination", img:"ab1.jpg"}, {n:"Leader", img:"le1.jpg"}, {n:"Enchantress", img:"en1.jpg"}, {n:"Executioner", img:"ex1.jpg"}, {n:"Hela", img:"he1.jpg"}, {n:"Ronan the Accuser", img:"ro1.jpg"}, {n:"Ego", img:"eg1.jpg"},
    
    // --- SPECIAL & FUN ---
    {n:"Stan Lee", img:"stan1.jpg"}, {n:"Stan Lee (Hulkbuster)", img:"stan2.jpg"}, {n:"Howard the Duck", img:"ho1.jpg"}, {n:"Forbush Man", img:"fo1.jpg"}, {n:"Squirrel Girl", img:"sq1.jpg"}, {n:"Captain Britain", img:"cb1.jpg"}, {n:"Union Jack", img:"uj1.jpg"}, {n:"Agent Carter", img:"ac1.jpg"}, {n:"Fin Fang Foom", img:"fff1.jpg"}
);
        db["LEGO HARRY POTTER"] = [
    // --- HARRY, RON, HERMIONA (Warianty) ---
    {n:"Harry Potter (Mundurek)", img:"hp1.jpg"}, {n:"Harry Potter (Sweter)", img:"hp2.jpg"}, {n:"Harry Potter (Zadanie Turniejowe)", img:"hp3.jpg"}, {n:"Harry Potter (Strój do Quidditcha)", img:"hp4.jpg"}, {n:"Harry Potter (Szaty wyjściowe)", img:"hp5.jpg"}, {n:"Harry Potter (Zima)", img:"hp6.jpg"}, {n:"Harry Potter (Pajama)", img:"hp7.jpg"}, {n:"Harry Potter (Godric's Hollow)", img:"hp8.jpg"},
    {n:"Ron Weasley (Mundurek)", img:"rw1.jpg"}, {n:"Ron Weasley (Sweter)", img:"rw2.jpg"}, {n:"Ron Weasley (Strój do Quidditcha)", img:"rw3.jpg"}, {n:"Ron Weasley (Szaty wyjściowe)", img:"rw4.jpg"}, {n:"Ron Weasley (Zima)", img:"rw5.jpg"}, {n:"Ron Weasley (Pajama)", img:"rw6.jpg"}, {n:"Ron Weasley (Chef)", img:"rw7.jpg"},
    {n:"Hermiona Granger (Mundurek)", img:"hg1.jpg"}, {n:"Hermiona Granger (Suknia balowa)", img:"hg2.jpg"}, {n:"Hermiona Granger (Zima)", img:"hg3.jpg"}, {n:"Hermiona Granger (Kot)", img:"hg4.jpg"}, {n:"Hermiona Granger (Czerwona suknia)", img:"hg5.jpg"}, {n:"Hermiona Granger (Gringott)", img:"hg6.jpg"},
    
    // --- GRYFFINDOR ---
    {n:"Neville Longbottom", img:"nl1.jpg"}, {n:"Neville (Sweter)", img:"nl2.jpg"}, {n:"Neville (Piżama)", img:"nl3.jpg"}, {n:"Ginny Weasley", img:"gw1.jpg"}, {n:"Ginny (Sukienka)", img:"gw2.jpg"}, {n:"Ginny (Quidditch)", img:"gw3.jpg"}, {n:"Fred Weasley", img:"fw1.jpg"}, {n:"George Weasley", img:"gew1.jpg"}, {n:"Fred (Quidditch)", img:"fw2.jpg"}, {n:"George (Quidditch)", img:"gew2.jpg"}, {n:"Percy Weasley", img:"pw1.jpg"}, {n:"Seamus Finnigan", img:"sf1.jpg"}, {n:"Dean Thomas", img:"dt1.jpg"}, {n:"Lee Jordan", img:"lj1.jpg"}, {n:"Oliver Wood", img:"ow1.jpg"}, {n:"Katie Bell", img:"kb1.jpg"}, {n:"Angelina Johnson", img:"aj1.jpg"}, {n:"Alicia Spinnet", img:"as1.jpg"}, {n:"Parvati Patil", img:"pp1.jpg"},
    
    // --- NAUCZYCIELE I PERSONEL ---
    {n:"Albus Dumbledore", img:"ad1.jpg"}, {n:"Albus Dumbledore (Young)", img:"ad2.jpg"}, {n:"Severus Snape", img:"ss1.jpg"}, {n:"Snape (Boggart/Underwear)", img:"ss2.jpg"}, {n:"Minerva McGonagall", img:"mm1.jpg"}, {n:"Rubeus Hagrid", img:"rh1.jpg"}, {n:"Mad-Eye Moody", img:"mem1.jpg"}, {n:"Remus Lupin", img:"rl1.jpg"}, {n:"Lupin (Werewolf)", img:"rl2.jpg"}, {n:"Gilderoy Lockhart", img:"gl1.jpg"}, {n:"Lockhart (Green Suit)", img:"gl2.jpg"}, {n:"Horace Slughorn", img:"hs1.jpg"}, {n:"Slughorn (Armchair)", img:"hs2.jpg"}, {n:"Filius Flitwick", img:"ff1.jpg"}, {n:"Pomona Sprout", img:"ps1.jpg"}, {n:"Sybilla Trelawney", img:"st1.jpg"}, {n:"Madam Pince", img:"mp1.jpg"}, {n:"Madam Pomfrey", img:"mpo1.jpg"}, {n:"Madam Hooch", img:"mh1.jpg"}, {n:"Argus Filch", img:"af1.jpg"},
    
    // --- ZAKON FENIKSA I RODZINA ---
    {n:"Sirius Black", img:"sb1.jpg"}, {n:"Sirius (Prisoner)", img:"sb2.jpg"}, {n:"Arthur Weasley", img:"aw1.jpg"}, {n:"Molly Weasley", img:"mw1.jpg"}, {n:"Bill Weasley", img:"bw1.jpg"}, {n:"Charlie Weasley", img:"cw1.jpg"}, {n:"Nymphadora Tonks", img:"nt1.jpg"}, {n:"Tonks (Pink Hair)", img:"nt2.jpg"}, {n:"Kingsley Shacklebolt", img:"ks1.jpg"}, {n:"Aberforth Dumbledore", img:"abd1.jpg"}, {n:"James Potter", img:"jp1.jpg"}, {n:"Lily Potter", img:"lp1.jpg"}
];
        db["LEGO HARRY POTTER"].push(
    // --- SLYTHERIN I ŚMIERCIOŻERCY ---
    {n:"Lord Voldemort", img:"lv1.jpg"}, {n:"Tom Riddle", img:"tr1.jpg"}, {n:"Bellatrix Lestrange", img:"bl1.jpg"}, {n:"Lucius Malfoy", img:"lm1.jpg"}, {n:"Lucius Malfoy (Death Eater)", img:"lm2.jpg"}, {n:"Narcissa Malfoy", img:"nm1.jpg"}, {n:"Draco Malfoy", img:"dm1.jpg"}, {n:"Draco (Mundurek)", img:"dm2.jpg"}, {n:"Draco (Quidditch)", img:"dm3.jpg"}, {n:"Vincent Crabbe", img:"vc1.jpg"}, {n:"Gregory Goyle", img:"ggo1.jpg"}, {n:"Crabbe (Sweater)", img:"vc2.jpg"}, {n:"Goyle (Sweater)", img:"ggo2.jpg"}, {n:"Blaise Zabini", img:"bz1.jpg"}, {n:"Pansy Parkinson", img:"pp1.jpg"}, {n:"Millicent Bulstrode", img:"mb1.jpg"}, {n:"Marcus Flint", img:"mf1.jpg"}, {n:"Antonini Dolohov", img:"ad1.jpg"}, {n:"Fenrir Greyback", img:"fg1.jpg"}, {n:"Alecto Carrow", img:"ac1.jpg"}, {n:"Amycus Carrow", img:"amc1.jpg"}, {n:"Barty Crouch Jr.", img:"bcj1.jpg"},
    
    // --- RAVENCLAW ---
    {n:"Luna Lovegood", img:"ll1.jpg"}, {n:"Luna (Lion Hat)", img:"ll2.jpg"}, {n:"Luna (Blue Dress)", img:"ll3.jpg"}, {n:"Luna (Pink Coat)", img:"ll4.jpg"}, {n:"Cho Chang", img:"cc1.jpg"}, {n:"Cho (Winter)", img:"cc2.jpg"}, {n:"Padma Patil", img:"pdp1.jpg"}, {n:"Michael Corner", img:"mc1.jpg"}, {n:"Terry Boot", img:"tb1.jpg"}, {n:"Anthony Goldstein", img:"ag1.jpg"}, {n:"Marietta Edgecombe", img:"me1.jpg"},
    
    // --- HUFFLEPUFF ---
    {n:"Cedric Diggory", img:"cd1.jpg"}, {n:"Cedric (Triwizard)", img:"cd2.jpg"}, {n:"Cedric (Sweater)", img:"cd3.jpg"}, {n:"Justin Finch-Fletchley", img:"jff1.jpg"}, {n:"Hannah Abbott", img:"ha1.jpg"}, {n:"Susan Bones", img:"sub1.jpg"}, {n:"Ernie Macmillan", img:"em1.jpg"}, {n:"Zacharias Smith", img:"zs1.jpg"},
    
    // --- MAGICZNE ISTOTY I DUCHY ---
    {n:"Zgredek (Dobby)", img:"do1.jpg"}, {n:"Stworek (Kreacher)", img:"kr1.jpg"}, {n:"Gripsek (Griphook)", img:"gr1.jpg"}, {n:"Bogrod", img:"bo1.jpg"}, {n:"Winky", img:"wi1.jpg"}, {n:"Prawie Bezgłowy Nick", img:"pbn1.jpg"}, {n:"Krwawy Baron", img:"kb1.jpg"}, {n:"Szara Dama", img:"szd1.jpg"}, {n:"Gruby Mnich", img:"gm1.jpg"}, {n:"Jęcząca Marta", img:"jm1.jpg"}, {n:"Professor Binns", img:"pb1.jpg"},
    
    // --- INNE POSTACIE ---
    {n:"Cornelius Fudge", img:"cf1.jpg"}, {n:"Rufus Scrimgeour", img:"rs1.jpg"}, {n:"Dolores Umbridge", img:"du1.jpg"}, {n:"Viktor Krum", img:"vk1.jpg"}, {n:"Fleur Delacour", img:"fd1.jpg"}, {n:"Gabrielle Delacour", img:"gd1.jpg"}, {n:"Madame Maxime", img:"mmx1.jpg"}, {n:"Igor Karkaroff", img:"ik1.jpg"}, {n:"Xenophilius Lovegood", img:"xl1.jpg"}, {n:"Rita Skeeter", img:"ris1.jpg"}, {n:"Stan Shunpike", img:"stsh1.jpg"}, {n:"Ernie Prang", img:"ep1.jpg"}, {n:"Dudley Dursley", img:"dd1.jpg"}, {n:"Vernon Dursley", img:"vd1.jpg"}, {n:"Petunia Dursley", img:"ped1.jpg"}
);
        db["LEGO BATMAN (1-3)"] = [
    // --- BATMAN (Warianty Kostiumów) ---
    {n:"Batman", img:"b1.jpg"}, {n:"Batman (Classic)", img:"b2.jpg"}, {n:"Batman (Zbroja Sensor)", img:"b3.jpg"}, {n:"Batman (Zbroja Power)", img:"b4.jpg"}, {n:"Batman (Zbroja Sonic)", img:"b5.jpg"}, {n:"Batman (Zbroja Arctic)", img:"b6.jpg"}, {n:"Batman (Zbroja Electricity)", img:"b7.jpg"}, {n:"Batman (Zbroja Space)", img:"b8.jpg"}, {n:"Batman (Zur-En-Arrh)", img:"b9.jpg"}, {n:"Bruce Wayne", img:"b10.jpg"},
    
    // --- RODZINA BATMANA ---
    {n:"Robin", img:"r1.jpg"}, {n:"Robin (Classic)", img:"r2.jpg"}, {n:"Nightwing", img:"n1.jpg"}, {n:"Red Hood", img:"rh1.jpg"}, {n:"Batgirl", img:"bg1.jpg"}, {n:"Batwoman", img:"bw1.jpg"}, {n:"Alfred Pennyworth", img:"ap1.jpg"}, {n:"Commissioner Gordon", img:"cg1.jpg"}, {n:"Ace the Bat-Hound", img:"ace1.jpg"}, {n:"Huntress", img:"h1.jpg"}, {n:"Azrael", img:"az1.jpg"},
    
    // --- LIGA SPRAWIEDLIWOŚCI (JUSTICE LEAGUE) ---
    {n:"Superman", img:"s1.jpg"}, {n:"Clark Kent", img:"s2.jpg"}, {n:"Superman (Solar Suit)", img:"s3.jpg"}, {n:"Wonder Woman", img:"ww1.jpg"}, {n:"Wonder Woman (New 52)", img:"ww2.jpg"}, {n:"The Flash (Barry Allen)", img:"f1.jpg"}, {n:"The Flash (Wally West)", img:"f2.jpg"}, {n:"Green Lantern (Hal Jordan)", img:"gl1.jpg"}, {n:"Green Lantern (John Stewart)", img:"gl2.jpg"}, {n:"Aquaman", img:"aq1.jpg"}, {n:"Cyborg", img:"cy1.jpg"}, {n:"Martian Manhunter", img:"mm1.jpg"}, {n:"Shazam", img:"sh1.jpg"}, {n:"Green Arrow", img:"ga1.jpg"}, {n:"Black Canary", img:"bc1.jpg"}, {n:"Hawkman", img:"ha1.jpg"}, {n:"Hawkgirl", img:"hg1.jpg"}, {n:"Zatanna", img:"z1.jpg"}, {n:"Plastic Man", img:"pm1.jpg"}, {n:"Blue Beetle", img:"bb1.jpg"}, {n:"Booster Gold", img:"bg2.jpg"}, {n:"Supergirl", img:"sg1.jpg"}
];
        db["LEGO BATMAN (1-3)"].push(
    // --- THE JOKER & HARLEY QUINN ---
    {n:"The Joker", img:"j1.jpg"}, {n:"The Joker (Tropical)", img:"j2.jpg"}, {n:"The Joker (Nurse)", img:"j3.jpg"}, {n:"The Joker (Mime)", img:"j4.jpg"}, {n:"Harley Quinn", img:"hq1.jpg"}, {n:"Harley Quinn (Classic)", img:"hq2.jpg"},
    
    // --- GALERIA ŁOTRÓW (ROGUES GALLERY) ---
    {n:"The Penguin", img:"p1.jpg"}, {n:"The Riddler", img:"ri1.jpg"}, {n:"Two-Face", img:"tf1.jpg"}, {n:"Catwoman", img:"c1.jpg"}, {n:"Poison Ivy", img:"pi1.jpg"}, {n:"Scarecrow", img:"sc1.jpg"}, {n:"Bane", img:"ba1.jpg"}, {n:"Bane (Venom Powered)", img:"ba2.jpg"}, {n:"Mr. Freeze", img:"mf1.jpg"}, {n:"Killer Croc", img:"kc1.jpg"}, {n:"Clayface", img:"cf1.jpg"}, {n:"Ra's al Ghul", img:"rg1.jpg"}, {n:"Deathstroke", img:"ds1.jpg"}, {n:"Deadshot", img:"dsh1.jpg"}, {n:"Man-Bat", img:"mb1.jpg"}, {n:"Mad Hatter", img:"mh1.jpg"}, {n:"Killer Frost", img:"kf1.jpg"}, {n:"Captain Cold", img:"cc1.jpg"}, {n:"Gorilla Grodd", img:"gg1.jpg"}, {n:"Reverse-Flash", img:"rf1.jpg"}, {n:"Black Manta", img:"bm1.jpg"}, {n:"Sinestro", img:"si1.jpg"}, {n:"Lex Luthor", img:"ll1.jpg"}, {n:"Lex Luthor (Power Suit)", img:"ll2.jpg"}, {n:"Brainiac", img:"br1.jpg"}, {n:"Darkseid", img:"da1.jpg"}, {n:"General Zod", img:"gz1.jpg"}, {n:"Doomsday", img:"do1.jpg"}, {n:"Lobo", img:"lo1.jpg"}, {n:"Black Adam", img:"ba3.jpg"}
);
      db["LEGO LOTR / HOBBIT"] = [
    // --- DRUŻYNA PIERŚCIENIA ---
    {n:"Frodo Baggins", img:"fr1.jpg"}, {n:"Frodo (Shire)", img:"fr2.jpg"}, {n:"Frodo (Orc Armor)", img:"fr3.jpg"}, {n:"Samwise Gamgee", img:"sg1.jpg"}, {n:"Sam (Orc Armor)", img:"sg2.jpg"}, {n:"Merry Brandybuck", img:"mb1.jpg"}, {n:"Merry (Rohan Armor)", img:"mb2.jpg"}, {n:"Pippin Took", img:"pt1.jpg"}, {n:"Pippin (Gondor Armor)", img:"pt2.jpg"}, {n:"Gandalf the Grey", img:"gg1.jpg"}, {n:"Gandalf the White", img:"gw1.jpg"}, {n:"Aragorn (Strider)", img:"ar1.jpg"}, {n:"Aragorn (King)", img:"ar2.jpg"}, {n:"Legolas", img:"le1.jpg"}, {n:"Gimli", img:"gi1.jpg"}, {n:"Boromir", img:"bo1.jpg"},
    
    // --- KOMPANIA THORINA (KRASNOLUDY) ---
    {n:"Thorin Oakenshield", img:"th1.jpg"}, {n:"Thorin (Lake-town)", img:"th2.jpg"}, {n:"Thorin (Armor)", img:"th3.jpg"}, {n:"Balin", img:"ba1.jpg"}, {n:"Dwalin", img:"dw1.jpg"}, {n:"Fili", img:"fi1.jpg"}, {n:"Kili", img:"ki1.jpg"}, {n:"Oin", img:"oi1.jpg"}, {n:"Gloin", img:"gl1.jpg"}, {n:"Dori", img:"do1.jpg"}, {n:"Nori", img:"no1.jpg"}, {n:"Ori", img:"or1.jpg"}, {n:"Bifur", img:"bi1.jpg"}, {n:"Bofur", img:"bf1.jpg"}, {n:"Bombur", img:"bm1.jpg"},
    
    // --- ELFY I LUDZIE ---
    {n:"Elrond", img:"el1.jpg"}, {n:"Elrond (Armor)", img:"el2.jpg"}, {n:"Galadriel", img:"ga1.jpg"}, {n:"Arwen", img:"aw1.jpg"}, {n:"Celeborn", img:"ce1.jpg"}, {n:"Thranduil", img:"thr1.jpg"}, {n:"Tauriel", img:"ta1.jpg"}, {n:"Haldir", img:"ha1.jpg"}, {n:"Bard the Bowman", img:"bb1.jpg"}, {n:"Bilbo Baggins (Old)", img:"bi2.jpg"}, {n:"Bilbo Baggins (Young)", img:"bi3.jpg"}, {n:"Theoden", img:"the1.jpg"}, {n:"Eomer", img:"eom1.jpg"}, {n:"Eowyn", img:"eow1.jpg"}, {n:"Denethor", img:"den1.jpg"}, {n:"Faramir", img:"fa1.jpg"}, {n:"Isildur", img:"is1.jpg"}, {n:"Radagast the Brown", img:"ra1.jpg"}
];
        db["LEGO LOTR / HOBBIT"].push(
    // --- ZŁOCZYŃCY I POTWORY ---
    {n:"Sauron", img:"sau1.jpg"}, {n:"Saruman the White", img:"sar1.jpg"}, {n:"The Witch-king", img:"wk1.jpg"}, {n:"Nazgul (Ringwraith)", img:"na1.jpg"}, {n:"Twilight Nazgul", img:"na2.jpg"}, {n:"Lurtz", img:"lu1.jpg"}, {n:"Grima Wormtongue", img:"gw1.jpg"}, {n:"Gollum", img:"go1.jpg"}, {n:"Smeagol", img:"sm1.jpg"}, {n:"Azog the Defiler", img:"az1.jpg"}, {n:"Bolg", img:"bo2.jpg"}, {n:"The Goblin King", img:"gk1.jpg"}, {n:"Mouth of Sauron", img:"mos1.jpg"}, {n:"Uruk-hai", img:"uh1.jpg"}, {n:"Orc Warrior", img:"ow1.jpg"}, {n:"Mordor Orc", img:"mo1.jpg"}, {n:"Cave Troll", img:"ct1.jpg"}, {n:"Goblin Scribe", img:"gs1.jpg"}, {n:"Necromancer", img:"ne1.jpg"},
    
    // --- INNE POSTACIE ---
    {n:"Barliman Butterbur", img:"bb2.jpg"}, {n:"Rosie Cotton", img:"rc1.jpg"}, {n:"Gaffer Gamgee", img:"gg2.jpg"}, {n:"Master of Lake-town", img:"mol1.jpg"}, {n:"Alfrid", img:"al1.jpg"}, {n:"Beorn", img:"be1.jpg"}, {n:"Tom Bombadil", img:"tb1.jpg"}
);
        db["LEGO CITY UNDERCOVER"] = [
    // --- CHASE MCCAIN (Główne Przebrania) ---
    {n:"Chase McCain (Policjant)", img:"lc1.jpg"}, {n:"Chase McCain (Złodziej)", img:"lc2.jpg"}, {n:"Chase McCain (Górnik)", img:"lc3.jpg"}, {n:"Chase McCain (Astronauta)", img:"lc4.jpg"}, {n:"Chase McCain (Rolnik)", img:"lc5.jpg"}, {n:"Chase McCain (Strażak)", img:"lc6.jpg"}, {n:"Chase McCain (Budowniczy)", img:"lc7.jpg"}, {n:"Chase McCain (Kung Fu)", img:"lc8.jpg"}, {n:"Chase McCain (Nurek)", img:"lc9.jpg"}, {n:"Chase McCain (Bielizna)", img:"lc10.jpg"},
    
    // --- POLICJA I SOJUSZNICY ---
    {n:"Frank Honey", img:"lc11.jpg"}, {n:"Ellie Phillips", img:"lc12.jpg"}, {n:"Natalia Kowalski", img:"lc13.jpg"}, {n:"Komisarz Dunby", img:"lc14.jpg"}, {n:"Sheriff Huckleberry", img:"lc15.jpg"}, {n:"Marion Dunby", img:"lc16.jpg"}, {n:"Chief Kanui", img:"lc17.jpg"}, {n:"Deputy Dunby", img:"lc18.jpg"}, {n:"Chuck Fieri", img:"lc19.jpg"}, {n:"Barry Smith", img:"lc20.jpg"},
    
    // --- ZŁOCZYŃCY ---
    {n:"Rex Fury", img:"lc21.jpg"}, {n:"Vinnie Pappalardo", img:"lc22.jpg"}, {n:"Chan Chuang", img:"lc23.jpg"}, {n:"Forrest Blackwell", img:"lc24.jpg"}, {n:"Jimmy Capra", img:"lc25.jpg"}, {n:"Smokey Fuentes", img:"lc26.jpg"}, {n:"Sentinel Channing", img:"lc27.jpg"}, {n:"Carl Walrus", img:"lc28.jpg"}, {n:"Jedidiah", img:"lc29.jpg"}, {n:"Moe De Luca", img:"lc30.jpg"}
];
        db["LEGO CITY UNDERCOVER"].push(
    // --- CYWILE I ZAWODY ---
    {n:"Albert Speth", img:"lc31.jpg"}, {n:"Aloysius herrmann", img:"lc32.jpg"}, {n:"Aristotle", img:"lc33.jpg"}, {n:"Barbara Babble", img:"lc34.jpg"}, {n:"Benny Spetz", img:"lc35.jpg"}, {n:"Bucky Butler", img:"lc36.jpg"}, {n:"Clutch", img:"lc37.jpg"}, {n:"Cornelius Burns", img:"lc38.jpg"}, {n:"Diner Chef", img:"lc39.jpg"}, {n:"Doctor Jones", img:"lc40.jpg"}, {n:"Dr. von Krupman", img:"lc41.jpg"}, {n:"Explorer", img:"lc42.jpg"}, {n:"Garage Worker", img:"lc43.jpg"}, {n:"Gas Station Attendant", img:"lc44.jpg"}, {n:"Horace Tappleby", img:"lc45.jpg"}, {n:"Ice Cream Vendor", img:"lc46.jpg"}, {n:"James Curry", img:"lc47.jpg"}, {n:"Jethro Hayes", img:"lc48.jpg"}, {n:"Lola Babbiti", img:"lc49.jpg"}, {n:"Mayor Gleeson", img:"lc50.jpg"}, {n:"Mummy", img:"lc51.jpg"}, {n:"Museum Curator", img:"lc52.jpg"}, {n:"News Reader", img:"lc53.jpg"}, {n:"Old Lady", img:"lc54.jpg"}, {n:"Papier-mache Man", img:"lc55.jpg"}, {n:"Pharaoh", img:"lc56.jpg"}, {n:"Prison Guard", img:"lc57.jpg"}, {n:"Racer", img:"lc58.jpg"}, {n:"Robot", img:"lc59.jpg"}, {n:"Samurai", img:"lc60.jpg"}, {n:"Surfer", img:"lc61.jpg"}, {n:"Tapper", img:"lc62.jpg"}, {n:"Taximan", img:"lc63.jpg"}, {n:"Viking", img:"lc64.jpg"}, {n:"Zack Woodman", img:"lc65.jpg"}
);
        db["LEGO INDIANA JONES"] = [
    // --- INDIANA JONES (Warianty) ---
    {n:"Indiana Jones", img:"ij1.jpg"}, {n:"Indiana Jones (Desert)", img:"ij2.jpg"}, {n:"Indiana Jones (Tuxedo)", img:"ij3.jpg"}, {n:"Indiana Jones (Dinner Jacket)", img:"ij4.jpg"}, {n:"Indiana Jones (Professor)", img:"ij5.jpg"}, {n:"Indiana Jones (Army Disguise)", img:"ij6.jpg"}, {n:"Indiana Jones (Officer)", img:"ij7.jpg"}, {n:"Indiana Jones (Old)", img:"ij8.jpg"}, {n:"Indiana Jones (Kali)", img:"ij9.jpg"},
    
    // --- RODZINA I PRZYJACIELE ---
    {n:"Henry Jones Sr.", img:"ij10.jpg"}, {n:"Marion Ravenwood", img:"ij11.jpg"}, {n:"Marion (Evening Dress)", img:"ij12.jpg"}, {n:"Marion (Cairo)", img:"ij13.jpg"}, {n:"Mutt Williams", img:"ij14.jpg"}, {n:"Mutt (Motorcycle Jacket)", img:"ij15.jpg"}, {n:"Short Round", img:"ij16.jpg"}, {n:"Sallah", img:"ij17.jpg"}, {n:"Sallah (Desert)", img:"ij18.jpg"}, {n:"Marcus Brody", img:"ij19.jpg"}, {n:"Jock", img:"ij20.jpg"}, {n:"Captain Katanga", img:"ij21.jpg"}, {n:"Oxley", img:"ij22.jpg"}, {n:"Harold Oxley", img:"ij23.jpg"}, {n:"Wu Han", img:"ij24.jpg"}, {n:"Remy", img:"ij25.jpg"},
    
    // --- PRZECIWNICY (VILLAINS) ---
    {n:"Rene Belloq", img:"ij26.jpg"}, {n:"Belloq (Priest)", img:"ij27.jpg"}, {n:"Belloq (Jungle)", img:"ij28.jpg"}, {n:"Major Toht", img:"ij29.jpg"}, {n:"Colonel Dietrich", img:"ij30.jpg"}, {n:"Mola Ram", img:"ij31.jpg"}, {n:"Chatter Lal", img:"ij32.jpg"}, {n:"Donovan", img:"ij33.jpg"}, {n:"Colonel Vogel", img:"ij34.jpg"}, {n:"Dr. Elsa Schneider", img:"ij35.jpg"}, {n:"Elsa (Officer)", img:"ij36.jpg"}, {n:"Irina Spalko", img:"ij37.jpg"}, {n:"Colonel Dovchenko", img:"ij38.jpg"}, {n:"Lao Che", img:"ij39.jpg"}, {n:"Kao Kan", img:"ij40.jpg"}, {n:"Chen", img:"ij41.jpg"}
];
        db["LEGO INDIANA JONES"].push(
    // --- ARMIE I TUBYLCY ---
    {n:"Hovitos Tribesman", img:"ij42.jpg"}, {n:"Satipo", img:"ij43.jpg"}, {n:"Barranca", img:"ij44.jpg"}, {n:"Sherpa Brawler", img:"ij45.jpg"}, {n:"Sherpa Gunner", img:"ij46.jpg"}, {n:"Cairo Thug", img:"ij47.jpg"}, {n:"Cairo Swordsman", img:"ij48.jpg"}, {n:"Bandit", img:"ij49.jpg"}, {n:"German Soldier", img:"ij50.jpg"}, {n:"German Officer", img:"ij51.jpg"}, {n:"German Guard", img:"ij52.jpg"}, {n:"Bazooka Trooper", img:"ij53.jpg"}, {n:"Grail Knight", img:"ij54.jpg"}, {n:"Thuggee", img:"ij55.jpg"}, {n:"Thuggee Priest", img:"ij56.jpg"}, {n:"Pankot Guard", img:"ij57.jpg"}, {n:"Russian Soldier", img:"ij58.jpg"}, {n:"Russian Officer", img:"ij59.jpg"}, {n:"Ugha Warrior", img:"ij60.jpg"}, {n:"Ugha Assassin", img:"ij61.jpg"},
    
    // --- INNE I FUN ---
    {n:"Han Solo (Easter Egg)", img:"ij62.jpg"}, {n:"Santa Clause", img:"ij63.jpg"}, {n:"Dancing Girl", img:"ij64.jpg"}, {n:"Village Elder", img:"ij65.jpg"}, {n:"British Commander", img:"ij66.jpg"}, {n:"First Mate", img:"ij67.jpg"}, {n:"Willie Scott", img:"ij68.jpg"}, {n:"Willie (Singer)", img:"ij69.jpg"}, {n:"Willie (Ceremony)", img:"ij70.jpg"}
);
        db["LEGO PIRACI Z KARAIBÓW"] = [
    // --- JACK SPARROW (Warianty) ---
    {n:"Jack Sparrow", img:"pc1.jpg"}, {n:"Jack Sparrow (Chief)", img:"pc2.jpg"}, {n:"Jack Sparrow (Cursed)", img:"pc3.jpg"}, {n:"Jack Sparrow (Waistcoat)", img:"pc4.jpg"}, {n:"Jack Sparrow (Officer)", img:"pc5.jpg"},
    
    // --- GŁÓWNI BOHATEROWIE ---
    {n:"Will Turner", img:"pc6.jpg"}, {n:"Will Turner (Bootstrap)", img:"pc7.jpg"}, {n:"Elizabeth Swann", img:"pc8.jpg"}, {n:"Elizabeth (Pirate)", img:"pc9.jpg"}, {n:"Elizabeth (Red Coat)", img:"pc10.jpg"}, {n:"Elizabeth (Singapore)", img:"pc11.jpg"}, {n:"Joshamee Gibbs", img:"pc12.jpg"}, {n:"Anamaria", img:"pc13.jpg"}, {n:"Pintel", img:"pc14.jpg"}, {n:"Ragetti", img:"pc15.jpg"}, {n:"Cotton", img:"pc16.jpg"}, {n:"Marty", img:"pc17.jpg"}, {n:"Tia Dalma", img:"pc18.jpg"}, {n:"Calypso", img:"pc19.jpg"},
    
    // --- KAPITANOWIE I ZŁOCZYŃCY ---
    {n:"Hector Barbossa", img:"pc20.jpg"}, {n:"Barbossa (Cursed)", img:"pc21.jpg"}, {n:"Barbossa (Privateer)", img:"pc22.jpg"}, {n:"Davy Jones", img:"pc23.jpg"}, {n:"Maccus", img:"pc24.jpg"}, {n:"Koleniko", img:"pc25.jpg"}, {n:"Palifico", img:"pc26.jpg"}, {n:"Hadras", img:"pc27.jpg"}, {n:"Bootstrap Bill Turner", img:"pc28.jpg"}, {n:"Blackbeard", img:"pc29.jpg"}, {n:"Angelica", img:"pc30.jpg"}, {n:"Lord Cutler Beckett", img:"pc31.jpg"}, {n:"James Norrington", img:"pc32.jpg"}, {n:"Norrington (Admiral)", img:"pc33.jpg"}, {n:"Governor Weatherby Swann", img:"pc34.jpg"}, {n:"Captain Sao Feng", img:"pc35.jpg"}, {n:"Tai Huang", img:"pc36.jpg"}
];
        db["LEGO PIRACI Z KARAIBÓW"].push(
    // --- ŻOŁNIERZE I MARYNARKA ---
    {n:"Murtogg", img:"pc37.jpg"}, {n:"Mullroy", img:"pc38.jpg"}, {n:"Lieutenant Theodore Groves", img:"pc39.jpg"}, {n:"Gillette", img:"pc40.jpg"}, {n:"Spanish Officer", img:"pc41.jpg"}, {n:"Spanish Soldier", img:"pc42.jpg"}, {n:"King George II", img:"pc43.jpg"}, {n:"English Guard", img:"pc44.jpg"},
    
    // --- POSTACIE SPECJALNE I STWORZENIA ---
    {n:"Syrena", img:"pc45.jpg"}, {n:"Tamara", img:"pc46.jpg"}, {n:"Philip Swift", img:"pc47.jpg"}, {n:"The Spaniard", img:"pc48.jpg"}, {n:"Quartermaster", img:"pc49.jpg"}, {n:"Gunner", img:"pc50.jpg"}, {n:"Cook", img:"pc51.jpg"}, {n:"Prison Dog", img:"pc52.jpg"}, {n:"Monkey (Jack)", img:"pc53.jpg"}, {n:"Parrot", img:"pc54.jpg"}, {n:"Coachman", img:"pc55.jpg"}, {n:"Drunken Pirate", img:"pc56.jpg"}
);
        db["LEGO JURASSIC WORLD"] = [
    // --- PARK JURAJSKI (KLASYKA) ---
    {n:"Alan Grant", img:"jw1.jpg"}, {n:"Ellie Sattler", img:"jw2.jpg"}, {n:"Ian Malcolm", img:"jw3.jpg"}, {n:"John Hammond", img:"jw4.jpg"}, {n:"Lex Murphy", img:"jw5.jpg"}, {n:"Tim Murphy", img:"jw6.jpg"}, {n:"Robert Muldoon", img:"jw7.jpg"}, {n:"Dennis Nedry", img:"jw8.jpg"}, {n:"Donald Gennaro", img:"jw9.jpg"}, {n:"Ray Arnold", img:"jw10.jpg"},
    
    // --- ŚWIAT JURAJSKI ---
    {n:"Owen Grady", img:"jw11.jpg"}, {n:"Owen (Survival)", img:"jw12.jpg"}, {n:"Claire Dearing", img:"jw13.jpg"}, {n:"Claire (Lab)", img:"jw14.jpg"}, {n:"Simon Masrani", img:"jw15.jpg"}, {n:"Vic Hoskins", img:"jw16.jpg"}, {n:"Lowery", img:"jw17.jpg"}, {n:"Barry", img:"jw18.jpg"}, {n:"Hamada", img:"jw19.jpg"}, {n:"Zara", img:"jw20.jpg"}, {n:"Gray Mitchell", img:"jw21.jpg"}, {n:"Zach Mitchell", img:"jw22.jpg"}, {n:"Henry Wu", img:"jw23.jpg"}, {n:"Dr. Henry Wu (1993)", img:"jw24.jpg"},
    
    // --- ZAGINIONY ŚWIAT & JP3 ---
    {n:"Sarah Harding", img:"jw25.jpg"}, {n:"Nick Van Owen", img:"jw26.jpg"}, {n:"Eddie Carr", img:"jw27.jpg"}, {n:"Roland Tembo", img:"jw28.jpg"}, {n:"Peter Ludlow", img:"jw29.jpg"}, {n:"Paul Kirby", img:"jw30.jpg"}, {n:"Amanda Kirby", img:"jw31.jpg"}, {n:"Eric Kirby", img:"jw32.jpg"}, {n:"Billy Brennan", img:"jw33.jpg"}, {n:"Udesky", img:"jw34.jpg"}
];
        db["LEGO JURASSIC WORLD"].push(
    // --- DINOZAURY ---
    {n:"Tyrannosaurus Rex", img:"jw35.jpg"}, {n:"Indominus Rex", img:"jw36.jpg"}, {n:"Velociraptor (Blue)", img:"jw37.jpg"}, {n:"Velociraptor (Charlie)", img:"jw38.jpg"}, {n:"Velociraptor (Delta)", img:"jw39.jpg"}, {n:"Velociraptor (Echo)", img:"jw40.jpg"}, {n:"Triceratops", img:"jw41.jpg"}, {n:"Brachiosaurus", img:"jw42.jpg"}, {n:"Stegosaurus", img:"jw43.jpg"}, {n:"Dilophosaurus", img:"jw44.jpg"}, {n:"Spinosaurus", img:"jw45.jpg"}, {n:"Ankylosaurus", img:"jw46.jpg"}, {n:"Pteranodon", img:"jw47.jpg"}, {n:"Mosasaurus", img:"jw48.jpg"}, {n:"Gallimimus", img:"jw49.jpg"}, {n:"Compsognathus (Compy)", img:"jw50.jpg"}, {n:"Pachycephalosaurus", img:"jw51.jpg"},
    
    // --- PERSONEL I INNE ---
    {n:"Park Worker", img:"jw52.jpg"}, {n:"InGen Guard", img:"jw53.jpg"}, {n:"InGen Scientist", img:"jw54.jpg"}, {n:"ACU Trooper", img:"jw55.jpg"}, {n:"Vet", img:"jw56.jpg"}, {n:"Tourist", img:"jw57.jpg"}, {n:"Mr. DNA", img:"jw58.jpg"}, {n:"Jimmy Fallon (Cameo)", img:"jw59.jpg"}
);
        db["LEGO PRZYGODA (1 i 2)"] = [
    // --- EMMET (Warianty) ---
    {n:"Emmet (Budowniczy)", img:"lm1.jpg"}, {n:"Emmet (Piżama)", img:"lm2.jpg"}, {n:"Emmet (Master Builder)", img:"lm3.jpg"}, {n:"Emmet (Tuxedo)", img:"lm4.jpg"}, {n:"Emmet (Trash Can)", img:"lm5.jpg"}, {n:"Emmet (Lizard Costume)", img:"lm6.jpg"}, {n:"Rex Niebezpiecznik", img:"lm7.jpg"},
    
    // --- ŻYLETA I EKIPA ---
    {n:"Żyleta (Wyldstyle)", img:"lm8.jpg"}, {n:"Żyleta (Hood up)", img:"lm9.jpg"}, {n:"Żyleta (Western)", img:"lm10.jpg"}, {n:"Żyleta (Space)", img:"lm11.jpg"}, {n:"Lucy (The LEGO Movie 2)", img:"lm12.jpg"}, {n:"Lucy (Stealth)", img:"lm13.jpg"}, {n:"Benny (Kosmonauta)", img:"lm14.jpg"}, {n:"Benny (Stary)", img:"lm15.jpg"}, {n:"Stalowobrody", img:"lm16.jpg"}, {n:"Stalowobrody (Mini)", img:"lm17.jpg"}, {n:"Witruwiusz", img:"lm18.jpg"}, {n:"Witruwiusz (Duch)", img:"lm19.jpg"}, {n:"Kicia Rożek (Unikitty)", img:"lm20.jpg"}, {n:"Kicia Rożek (Angry)", img:"lm21.jpg"}, {n:"Kicia Rożek (Queasy)", img:"lm22.jpg"}, {n:"Kicia Rożek (Biznis)", img:"lm23.jpg"}, {n:"Batman (LEGO Movie)", img:"lm24.jpg"},
    
    // --- BIZNES I ZŁOCZYŃCY ---
    {n:"Prezes Biznes", img:"lm25.jpg"}, {n:"Lord Biznes", img:"lm26.jpg"}, {n:"Zły Glina", img:"lm27.jpg"}, {n:"Dobry Glina", img:"lm28.jpg"}, {n:"Mama Glina", img:"lm29.jpg"}, {n:"Tata Glina", img:"lm30.jpg"}, {n:"Słodka Żyleta (Sweet Mayhem)", img:"lm31.jpg"}, {n:"Królowa Wisimi I'Powiewa", img:"lm32.jpg"}, {n:"General Mayhem", img:"lm33.jpg"}, {n:"Duplo Alien", img:"lm34.jpg"}
];
        db["LEGO PRZYGODA (1 i 2)"].push(
    // --- MIESZKAŃCY KLOCBURGA ---
    {n:"Abraham Lincoln", img:"lm35.jpg"}, {n:"William Szekspir", img:"lm36.jpg"}, {n:"Kleopatra", img:"lm37.jpg"}, {n:"Panczo Villa", img:"lm38.jpg"}, {n:"Gandalf (Cameo)", img:"lm39.jpg"}, {n:"Dumbledore (Cameo)", img:"lm40.jpg"}, {n:"Superman (LEGO Movie)", img:"lm41.jpg"}, {n:"Green Lantern (LEGO Movie)", img:"lm42.jpg"}, {n:"Wonder Woman (LEGO Movie)", img:"lm43.jpg"}, {n:"Shaquille O'Neal", img:"lm44.jpg"}, {n:"Banan", img:"lm45.jpg"}, {n:"Lodziarz", img:"lm46.jpg"}, {n:"Panda Guy", img:"lm47.jpg"}, {n:"Larry Barista", img:"lm48.jpg"}, {n:"Calamity Jane", img:"lm49.jpg"}, {n:"Sheriff Not-a-robot", img:"lm50.jpg"}, {n:"Ma Cop", img:"lm51.jpg"}, {n:"Pa Cop", img:"lm52.jpg"}, {n:"Test Pilot", img:"lm53.jpg"}, {n:"Magik", img:"lm54.jpg"}
);
        db["LEGO NINJAGO"] = [
    // --- GŁÓWNI NINJA (Warianty) ---
    {n:"Lloyd (Garmadon)", img:"n1.jpg"}, {n:"Lloyd (Hood up)", img:"n2.jpg"}, {n:"Lloyd (Kendo)", img:"n3.jpg"}, {n:"Lloyd (High School)", img:"n4.jpg"},
    {n:"Kai (Ninja)", img:"n5.jpg"}, {n:"Kai (Kendo)", img:"n6.jpg"}, {n:"Kai (High School)", img:"n7.jpg"}, {n:"Kai (Training)", img:"n8.jpg"},
    {n:"Jay (Ninja)", img:"n9.jpg"}, {n:"Jay (Kendo)", img:"n10.jpg"}, {n:"Jay (High School)", img:"n11.jpg"}, {n:"Jay (Training)", img:"n12.jpg"},
    {n:"Cole (Ninja)", img:"n13.jpg"}, {n:"Cole (Kendo)", img:"n14.jpg"}, {n:"Cole (High School)", img:"n15.jpg"}, {n:"Cole (Training)", img:"n16.jpg"},
    {n:"Zane (Ninja)", img:"n17.jpg"}, {n:"Zane (Kendo)", img:"n18.jpg"}, {n:"Zane (High School)", img:"n19.jpg"}, {n:"Zane (Training)", img:"n20.jpg"},
    {n:"Nya (Ninja)", img:"n21.jpg"}, {n:"Nya (Kendo)", img:"n22.jpg"}, {n:"Nya (High School)", img:"n23.jpg"}, {n:"Nya (Ceremonial)", img:"n24.jpg"},
    
    // --- MISTRZOWIE I RODZINA ---
    {n:"Mistrz Wu", img:"n25.jpg"}, {n:"Mistrz Wu (Flashback)", img:"n26.jpg"}, {n:"Mistrz Wu (Kimono)", img:"n27.jpg"}, {n:"Lord Garmadon", img:"n28.jpg"}, {n:"Garmadon (Classic)", img:"n29.jpg"}, {n:"Garmadon (Office)", img:"n30.jpg"}, {n:"Garmadon (Jungle)", img:"n31.jpg"}, {n:"Koko", img:"n32.jpg"}, {n:"Misako", img:"n33.jpg"}
];
        db["LEGO NINJAGO"].push(
    // --- ARMIA REKINÓW (SHARK ARMY) ---
    {n:"Shark Army Gunner", img:"n34.jpg"}, {n:"Shark Army Thug", img:"n35.jpg"}, {n:"Shark Army General #1", img:"n36.jpg"}, {n:"Shark Army Octopus", img:"n37.jpg"}, {n:"Shark Army Great White", img:"n38.jpg"}, {n:"Shark Army Crab", img:"n39.jpg"}, {n:"Shark Army Angler", img:"n40.jpg"}, {n:"Shark Army Jellyfish", img:"n41.jpg"}, {n:"Hammerhead", img:"n42.jpg"}, {n:"Crusty", img:"n43.jpg"}, {n:"Puffer", img:"n44.jpg"},
    
    // --- MIESZKAŃCY NINJAGO CITY ---
    {n:"Mayor of Ninjago", img:"n45.jpg"}, {n:"N-Pop Girl", img:"n46.jpg"}, {n:"Sushi Chef", img:"n47.jpg"}, {n:"IT Bat Nerd", img:"n48.jpg"}, {n:"Guy in Chicken Suit", img:"n49.jpg"}, {n:"Hot Dog Man", img:"n50.jpg"}, {n:"Rock Out Drummer", img:"n51.jpg"}, {n:"Postman", img:"n52.jpg"}, {n:"Edna Walker", img:"n53.jpg"}, {n:"Ed Walker", img:"n54.jpg"}
);
        db["LEGO DIMENSIONS"] = [
    // --- SONIC & RETRO ---
    {n:"Sonic the Hedgehog", img:"ld1.jpg"}, {n:"Tails", img:"ld2.jpg"}, {n:"Knuckles", img:"ld3.jpg"}, {n:"Shadow", img:"ld4.jpg"}, {n:"Pac-Man", img:"ld5.jpg"}, {n:"Q*Bert", img:"ld6.jpg"}, {n:"Gamer Kid", img:"ld7.jpg"},
    
    // --- THE SIMPSONS ---
    {n:"Homer Simpson", img:"ld8.jpg"}, {n:"Bart Simpson", img:"ld9.jpg"}, {n:"Krustyny the Clown", img:"ld10.jpg"}, {n:"Grampa Simpson", img:"ld11.jpg"}, {n:"Itchy", img:"ld12.jpg"}, {n:"Scratchy", img:"ld13.jpg"},
    
    // --- DOCTOR WHO ---
    {n:"The Doctor (12th)", img:"ld14.jpg"}, {n:"The Doctor (1st)", img:"ld15.jpg"}, {n:"The Doctor (War Doctor)", img:"ld16.jpg"}, {n:"Clara Oswald", img:"ld17.jpg"}, {n:"Cyberman", img:"ld18.jpg"}, {n:"Dalek", img:"ld19.jpg"}, {n:"Weeping Angel", img:"ld20.jpg"},
    
    // --- POWRÓT DO PRZYSZŁOŚCI & POGROMCY DUCHÓW ---
    {n:"Marty McFly", img:"ld21.jpg"}, {n:"Doc Brown", img:"ld22.jpg"}, {n:"Peter Venkman", img:"ld23.jpg"}, {n:"Ray Stantz", img:"ld24.jpg"}, {n:"Egon Spengler", img:"ld25.jpg"}, {n:"Winston Zeddemore", img:"ld26.jpg"}, {n:"Slimer", img:"ld27.jpg"}, {n:"Stay Puft Marshmallow Man", img:"ld28.jpg"}, {n:"Abby Yates", img:"ld29.jpg"},
    
    // --- PRZYGODA, SCOOBY-DOO & INNE ---
    {n:"Finn the Human", img:"ld30.jpg"}, {n:"Jake the Dog", img:"ld31.jpg"}, {n:"Marceline", img:"ld32.jpg"}, {n:"Princess Bubblegum", img:"ld33.jpg"}, {n:"Lumpy Space Princess", img:"ld34.jpg"}, {n:"Scooby-Doo", img:"ld35.jpg"}, {n:"Shaggy Rogers", img:"ld36.jpg"}, {n:"Fred Jones", img:"ld37.jpg"}, {n:"Velma Dinkley", img:"ld38.jpg"}, {n:"Daphne Blake", img:"ld39.jpg"}, {n:"Gizmo", img:"ld40.jpg"}, {n:"Stripe", img:"ld41.jpg"}, {n:"E.T.", img:"ld42.jpg"}, {n:"Sloth (Goonies)", img:"ld43.jpg"}, {n:"Chunk", img:"ld44.jpg"}, {n:"Beetlejuice", img:"ld45.jpg"}, {n:"Wicked Witch", img:"ld46.jpg"}, {n:"Flying Monkey", img:"ld47.jpg"},
    
    // --- LEGO DIMENSIONS SPECIALS ---
    {n:"Vorton", img:"ld48.jpg"}, {n:"X-PO", img:"ld49.jpg"}, {n:"Lord Vortech", img:"ld50.jpg"}, {n:"Portal Chell", img:"ld51.jpg"}, {n:"Wheatley", img:"ld52.jpg"}, {n:"GLaDOS", img:"ld53.jpg"}, {n:"Cave Johnson", img:"ld54.jpg"}, {n:"B.A. Baracus (A-Team)", img:"ld55.jpg"}, {n:"Michael Knight", img:"ld56.jpg"}, {n:"K.I.T.T.", img:"ld57.jpg"}, {n:"Mission Impossible Ethan Hunt", img:"ld58.jpg"}, {n:"Powerpuff Girls Blossom", img:"ld59.jpg"}, {n:"Powerpuff Girls Bubbles", img:"ld60.jpg"}, {n:"Powerpuff Girls Buttercup", img:"ld61.jpg"}, {n:"Mojo Jojo", img:"ld62.jpg"}, {n:"Teen Titans Robin", img:"ld63.jpg"}, {n:"Teen Titans Beast Boy", img:"ld64.jpg"}, {n:"Teen Titans Raven", img:"ld65.jpg"}, {n:"Starfire", img:"ld66.jpg"}, {n:"Cyborg (Teen Titans)", img:"ld67.jpg"}, {n:"Excalibur Batman", img:"ld68.jpg"}, {n:"Buttersworth", img:"ld69.jpg"}, {n:"Lord Greystoke", img:"ld70.jpg"}, {n:"Zane (Dimensions)", img:"ld71.jpg"}, {n:"Cole (Dimensions)", img:"ld72.jpg"}, {n:"Jay (Dimensions)", img:"ld73.jpg"}, {n:"Kai (Dimensions)", img:"ld74.jpg"}, {n:"Nya (Dimensions)", img:"ld75.jpg"}
];
    db["LEGO INIEMAMOCNI"] = [
    // --- RODZINA PARROW (GŁÓWNI BOHATEROWIE) ---
    {n:"Pan Iniemamocny (Bob Parr)", img:"in1.jpg"}, 
    {n:"Elastyna (Helen Parr)", img:"in2.jpg"}, 
    {n:"Maksymilian Parr (Maks)", img:"in3.jpg"}, 
    {n:"Wiola Parr", img:"in4.jpg"}, 
    {n:"Jack-Jack (Normalny)", img:"in5.jpg"}, 
    {n:"Jack-Jack (Potwór)", img:"in6.jpg"}, 
    {n:"Jack-Jack (Ogień)", img:"in7.jpg"}, 
    {n:"Jack-Jack (Metal)", img:"in8.jpg"},
    
    // --- PRZYJACIELE I SOJUSZNICY ---
    {n:"Mrożon (Lucius Best)", img:"in9.jpg"}, 
    {n:"Edna Mode", img:"in10.jpg"}, 
    {n:"Rick Dicker", img:"in11.jpg"}, 
    {n:"Gazerbeam", img:"in12.jpg"}, 
    {n:"Szybkobiegacz", img:"in13.jpg"}, 
    {n:"Refleksja", img:"in14.jpg"}, 
    {n:"Cegła", img:"in15.jpg"}, 
    {n:"Zgryz", img:"in16.jpg"}, 
    {n:"He-Lectrix", img:"in17.jpg"}, 
    {n:"Krzesztand", img:"in18.jpg"},
    
    // --- ZŁOCZYŃCY ---
    {n:"Syndrom (Buddy Pine)", img:"in19.jpg"}, 
    {n:"Mirage", img:"in20.jpg"}, 
    {n:"Bomb Voyage", img:"in21.jpg"}, 
    {n:"Podkopywacz", img:"in22.jpg"}, 
    {n:"Ekranocholik", img:"in23.jpg"}, 
    {n:"Pani Atakier", img:"in24.jpg"}
];

db["LEGO INIEMAMOCNI"].push(
    // --- INNE POSTACIE I WARIANTY ---
    {n:"Pan Iniemamocny (Złota Era)", img:"in25.jpg"}, 
    {n:"Elastyna (Złota Era)", img:"in26.jpg"}, 
    {n:"Pan Iniemamocny (Retro)", img:"in27.jpg"}, 
    {n:"Lucius Best (Cywil)", img:"in28.jpg"}, 
    {n:"Tony Rydinger", img:"in29.jpg"}, 
    {n:"Bernie Kropp", img:"in30.jpg"}, 
    {n:"Gilbert Huph", img:"in31.jpg"}, 
    {n:"Kari McKeen", img:"in32.jpg"}, 
    {n:"Burmistrz", img:"in33.jpg"}, 
    {n:"Policjant z Metroville", img:"in34.jpg"}
);
    // --- KONIEC BAZY DANYCH ---

    // 1. NOWE FUNKCJE OBSŁUGI POKOJU (Zamiast starego updateRoomStatus)
    function createGame() {
        const randomCode = "LEGO-" + Math.floor(100 + Math.random() * 899);
        document.getElementById('room-input').value = randomCode;
        enterLobby(randomCode);
    }

    function joinGame() {
        const code = document.getElementById('room-input').value.trim();
        if (code.length < 1) {
            alert("Najpierw wpisz kod od znajomego!");
            return;
        }
        enterLobby(code);
    }

    function enterLobby(code) {
        document.getElementById('setup-view').style.display = 'none';
        document.getElementById('lobby-view').style.display = 'block';
        document.getElementById('display-code').innerText = code.toUpperCase();
    }

    // 2. NOWA FUNKCJA KOPIOWANIA (bierze kod z wyświetlacza)
    function copyRoomLink() {
        const code = document.getElementById('display-code').innerText;
        const url = window.location.origin + window.location.pathname + "?room=" + encodeURIComponent(code);
        
        navigator.clipboard.writeText(url).then(() => {
            alert("Link skopiowany! Wyślij go znajomemu.");
        });
    }

    // 3. Funkcja losowania (zostaje bez zmian)
    function getRandomCharacters(pool, count) {
        let shuffled = [...pool].sort(() => 0.5 - Math.random());
        return shuffled.slice(0, count);
    }

    // 4. GŁÓWNA LOGIKA GRY (zostaje bez zmian)
    function initGame(category) {
        const menu = document.getElementById('menu');
        const gameArea = document.getElementById('game-area');
        const targetNameDisplay = document.getElementById('target-name');
        const grid = document.getElementById('character-grid');
        
        const roomInput = document.getElementById('room-input');
        const roomCode = (roomInput && roomInput.value.trim() !== "") ? roomInput.value.trim().toUpperCase() : Math.random().toString();
        
        let characterPool = [];
        if (category === "MIX") {
            Object.keys(db).forEach(key => { characterPool = characterPool.concat(db[key]); });
        } else if (db[category]) {
            characterPool = [...db[category]];
        }

        if (characterPool.length === 0) {
            alert("Błąd: Nie znaleziono postaci!");
            return;
        }

        let seed = 0;
        for(let i=0; i<roomCode.length; i++) seed += roomCode.charCodeAt(i);
        const seededRandom = () => {
            seed = (seed * 9301 + 49297) % 233280;
            return seed / 233280;
        };

        let shuffled = [...characterPool].sort(() => seededRandom() - 0.5);
        const selectedCharacters = shuffled.slice(0, 24);

        const targetCharacter = selectedCharacters[Math.floor(Math.random() * selectedCharacters.length)];
        targetNameDisplay.innerText = targetCharacter.n;

        grid.innerHTML = ''; 

        selectedCharacters.forEach(char => {
            const searchQuery = encodeURIComponent("lego " + char.n + " minifigure");
            const imgUrl = `https://tse2.mm.bing.net/th?q=${searchQuery}&w=200&h=300&c=7&rs=1&p=0&dpr=1&pid=1.7`;

            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-img" style="background-image: url('${imgUrl}'); background-size: contain; background-repeat: no-repeat; background-position: center; height: 140px;"></div>
                <p style="margin-top: 8px; font-weight: bold; font-size: 12px; color: black;">${char.n}</p>
            `;
            
            card.onclick = () => card.classList.toggle('hidden');
            grid.appendChild(card);
        });

        menu.style.display = 'none';
        gameArea.style.display = 'block';
    }

    function backToMenu() {
        document.getElementById('menu').style.display = 'block';
        document.getElementById('game-area').style.display = 'none';
    }

    // 5. AUTOMATYCZNE WCHODZENIE DO LOBBY Z LINKU
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        const roomFromUrl = urlParams.get('room');
        if (roomFromUrl) {
            document.getElementById('room-input').value = roomFromUrl;
            enterLobby(roomFromUrl); // Od razu otwiera lobby z kategoriami
        }
    }
</script>
</body>
</html>
