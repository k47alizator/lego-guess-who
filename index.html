<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEGO Guess Who - Online</title>
    <style>
        :root {
            --lego-yellow: #FFD500;
            --lego-red: #E3000B;
            --lego-blue: #006CB7;
            --bg-dark: #1a1a1a;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-dark);
            color: white;
            margin: 0;
            text-align: center;
        }

        #menu, #game-area { padding: 20px; }

        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            max-width: 1200px;
            margin: 20px auto;
        }

        .card {
            background: white;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        .card:hover { transform: scale(1.03); }

        .card.hidden {
            opacity: 0.1;
            filter: grayscale(1);
            transform: scale(0.9);
            pointer-events: none;
        }

        .btn {
            background: var(--lego-red);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            box-shadow: 0 4px #900;
        }

        .cat-btn {
            background: var(--lego-blue);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 13px;
        }

        input {
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            border: 2px solid var(--lego-yellow);
            width: 200px;
            text-align: center;
            background: #333;
            color: white;
        }

        .target-box {
            background: #333;
            padding: 15px;
            border-radius: 15px;
            border: 3px solid var(--lego-yellow);
            display: inline-block;
            margin-bottom: 20px;
        }

        .dl-btn {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(40, 167, 69, 0.95);
            color: white;
            border: none;
            font-size: 9px;
            padding: 6px 2px;
            cursor: pointer;
            font-weight: bold;
            z-index: 20;
        }
    </style>
</head>
<body>

<div id="menu">
    <h1 style="color: var(--lego-yellow); text-shadow: 2px 2px #000;">З LEGO GUESS WHO</h1>
    
    <div id="setup-view">
        <button class="btn" onclick="createGame()">NOWY POKJ</button>
        <div style="margin: 25px 0;">
            <p style="color: #ccc;">WPISZ KOD OD ZNAJOMEGO:</p>
            <input type="text" id="room-input" placeholder="np. LEGO-123">
            <button class="btn" style="background: var(--lego-blue); box-shadow: 0 4px #004a7c;" onclick="joinGame()">DOCZ</button>
        </div>
    </div>

    <div id="lobby-view" style="display: none; margin-top: 20px;">
        <div style="background: #333; padding: 20px; border-radius: 15px; border: 2px solid #00ff00; display: inline-block;">
            <p style="margin: 0; color: #bbb;">KOD POKOJU:</p>
            <h2 id="display-code" style="margin: 10px 0; font-size: 40px; font-family: monospace; color: white;">---</h2>
            <button onclick="copyRoomLink()" style="font-size: 11px; background: #555; color: white; border: none; padding: 6px; border-radius: 4px; cursor: pointer;">Skopiuj Link</button>
        </div>
        <h3 style="margin: 25px 0;">Wybierz kategori:</h3>
        <div id="category-buttons" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; max-width: 900px; margin: 0 auto;"></div>
    </div>
</div>

<div id="game-area" style="display: none;">
    <div class="target-box">
        <p style="margin: 0; color: #aaa; font-size: 14px;">TWOJA POSTA:</p>
        <h2 id="target-name" style="margin: 5px 0; color: var(--lego-yellow);">---</h2>
    </div>
    <div style="margin-bottom: 20px;">
        <button onclick="location.reload()" style="background: #555; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">Wyjd藕 do Menu</button>
    </div>
    <div id="character-grid" class="character-grid"></div>
</div>

<script>
    const githubConfig = {
        user: "k47alizator",
        repo: "lego-guess-who",
        folder: "img"
    };

    // --- BAZA DANYCH POSTACI ---

   const db = {
        "LEGO STAR WARS": [
            {n:"Luke Skywalker (z Tatooine)"}, {n:"Luke Skywalker (Pilot X-Wing)"}, {n:"Luke Skywalker (z Bespin)"}, {n:"Luke Skywalker (z Dagobah)"}, {n:"Luke Skywalker (Rycerz Jedi)"}, {n:"Luke Skywalker (z Endor)"}, {n:"Luke Skywalker (Szturmowiec)"}, {n:"Luke Skywalker (z Hoth)"}, {n:"Luke Skywalker (Ceremonia)"}, {n:"Luke Skywalker (Stary Luke)"}, {n:"Luke Skywalker (z Crait)"}, {n:"Luke Skywalker (Duch Mocy)"}, {n:"Luke Skywalker (Zbiornik Bacta)"}, {n:"Luke Skywalker (Pilot migacza)"},
            {n:"Darth Vader"}, {n:"Darth Vader (Bez Maski)"}, {n:"Darth Vader (Zniszczony)"}, {n:"Darth Vader (witeczny)"}, {n:"Anakin Skywalker (Dziecko)"}, {n:"Anakin Skywalker (Padawan)"}, {n:"Anakin Skywalker (Rycerz Jedi)"}, {n:"Anakin Skywalker (Sith)"}, {n:"Anakin Skywalker (Duch Mocy)"}, {n:"Anakin Skywalker (Pilot Podracera)"}, {n:"Anakin Skywalker (W kurtce)"},
            {n:"Obi-Wan Kenobi (Padawan)"}, {n:"Obi-Wan Kenobi (Epizod 2)"}, {n:"Obi-Wan Kenobi (Epizod 3)"}, {n:"Obi-Wan Kenobi (Stary Ben)"}, {n:"Obi-Wan Kenobi (Duch Mocy)"}, {n:"Obi-Wan Kenobi (Wojny Klon贸w)"},
            {n:"Han Solo (z Tatooine)"}, {n:"Han Solo (z Hoth)"}, {n:"Han Solo (z Endor)"}, {n:"Han Solo (z Bespin)"}, {n:"Han Solo (Mody)"}, {n:"Han Solo (Stary)"}, {n:"Han Solo (Szturmowiec)"}, {n:"Han Solo (W Karbonicie)"}, {n:"Han Solo (W przebraniu)"},
            {n:"Ksi偶niczka Leia (Senator)"}, {n:"Ksi偶niczka Leia (z Hoth)"}, {n:"Ksi偶niczka Leia (z Bespin)"}, {n:"Ksi偶niczka Leia (Niewolnica)"}, {n:"Ksi偶niczka Leia (z Endor)"}, {n:"Ksi偶niczka Leia (Boushh)"}, {n:"Genera Leia Organa"}, {n:"Leia (z wioski Ewok贸w)"},
            {n:"Mistrz Yoda"}, {n:"Yoda (Duch Mocy)"}, {n:"Mace Windu"}, {n:"Qui-Gon Jinn"}, {n:"Kit Fisto"}, {n:"Plo Koon"}, {n:"Aayla Secura"}, {n:"Ki-Adi-Mundi"}, {n:"Luminara Unduli"}, {n:"Shaak Ti"}, {n:"Eeth Koth"}, {n:"Saesee Tiin"}, {n:"Agen Kolar"}, {n:"Adi Gallia"}, {n:"Ahsoka Tano (Padawan)"}, {n:"Ahsoka Tano (Wojny Klon贸w)"}, {n:"Ahsoka Tano (Dorosa)"}, {n:"Jocasta Nu"}, {n:"Mistrzyni Yaddle"}, {n:"Barriss Offee"},
            {n:"Darth Maul"}, {n:"Darth Maul (Cyborg)"}, {n:"Imperator Palpatine"}, {n:"Kanclerz Palpatine"}, {n:"Darth Sidious"}, {n:"Hrabia Dooku"}, {n:"Genera Grievous"}, {n:"Asajj Ventress"}, {n:"Savage Opress"}, {n:"Wielki Inkwizytor"}, {n:"Si贸dma Siostra"}, {n:"Pity Brat"}, {n:"smy Brat"}, {n:"Kylo Ren"}, {n:"Kylo Ren (Bez Maski)"}, {n:"Naczelny W贸dz Snoke"}, {n:"Kapitan Phasma"}, {n:"Genera Hux"},
            {n:"Klon (Faza 1)"}, {n:"Klon (Faza 2)"}, {n:"Kapitan Rex"}, {n:"Komandor Cody"}, {n:"Komandor Gree"}, {n:"Komandor Fox"}, {n:"Komandor Neyo"}, {n:"呕onierz ARC"}, {n:"Pilot Klon"}, {n:"Klon Snajper"}, {n:"Klon z 501. Legionu"}, {n:"Klon z 212. Batalionu"}, {n:"Klon z Watahy"}, {n:"Hunter (Parch)"}, {n:"Wrecker (Parch)"}, {n:"Tech (Parch)"}, {n:"Echo (Parch)"}, {n:"Crosshair (Parch)"},
            {n:"Szturmowiec Imperium"}, {n:"Szturmowiec Pustynny"}, {n:"Szturmowiec nie偶ny"}, {n:"Zwiadowca Imperium"}, {n:"Szturmowiec mierci"}, {n:"Szturmowiec Nadbrze偶ny"}, {n:"Szturmowiec G贸rski"}, {n:"Szturmowiec Patrolowy"}, {n:"Szturmowiec Botny"}, {n:"Pilot Myliwca TIE"}, {n:"Pilot AT-AT"}, {n:"Gwardzista Imperialny"}, {n:"Wielki Moff Tarkin"}, {n:"Dyrektor Krennic"}, {n:"Admira Piett"}, {n:"Genera Veers"}, {n:"Oficer Imperialny"}, {n:"Pilot Floty Imperialnej"},
            {n:"Boba Fett"}, {n:"Jango Fett"}, {n:"Greedo"}, {n:"Bossk"}, {n:"Dengar"}, {n:"IG-88"}, {n:"Zuckuss"}, {n:"4-LOM"}, {n:"Aurra Sing"}, {n:"Cad Bane"}, {n:"Embo"}, {n:"Zam Wesell"}, {n:"Fennec Shand"}, {n:"Din Djarin (Mandalorianin)"}, {n:"Greef Karga"}, {n:"Kuiil"},
            {n:"R2-D2"}, {n:"C-3PO"}, {n:"BB-8"}, {n:"R5-D4"}, {n:"R4-P17"}, {n:"Chopper (C1-10P)"}, {n:"K-2SO"}, {n:"IG-11"}, {n:"D-O"}, {n:"Gonk Droid"}, {n:"Robot Mysz"}, {n:"Droid Bojowy B1"}, {n:"Droid Ochroniarz B1"}, {n:"Droid Dow贸dca B1"}, {n:"Droid Pilot B1"}, {n:"Super Droid Bojowy B2"}, {n:"Droideka"}, {n:"Droid Komandos"}, {n:"Magnaguard"}, {n:"Droid Zwiadowczy"},
            {n:"Jabba the Hutt"}, {n:"Wicket (Ewok)"}, {n:"Logray"}, {n:"Admira Ackbar"}, {n:"Nien Nunb"}, {n:"Bib Fortuna"}, {n:"Stra偶nik Gamorreaski"}, {n:"Jar Jar Binks"}, {n:"Watto"}, {n:"Sebulba"}, {n:"Maz Kanata"}, {n:"Babu Frik"}, {n:"Poggle Mniejszy"}, {n:"Wat Tambor"},
            {n:"Wedge Antilles"}, {n:"Biggs Darklighter"}, {n:"Dak Ralter"}, {n:"Jek Porkins"}, {n:"Zev Senesca"}, {n:"Ten Numb"}, {n:"Pilot B-Winga"}, {n:"Pilot A-Winga"}, {n:"Pilot U-Winga"}, {n:"Snap Wexley"}, {n:"Tallie Lintra"}, {n:"Ello Asty"},
            {n:"Rey (z Jakku)"}, {n:"Rey (Str贸j Ruchu Oporu)"}, {n:"Rey (Trening Jedi)"}, {n:"Rey (z Kijimi)"}, {n:"Finn (z Jakku)"}, {n:"Finn (W kombinezonie)"}, {n:"Finn (Oficer Najwy偶szego Porzdku)"}, {n:"Rose Tico"}, {n:"Rose Tico (Technik)"}, {n:"Admira Holdo"}, {n:"Kaydel Ko Connix"}, {n:"Zorii Bliss"}, {n:"Jannah"}, {n:"Lor San Tekka"},
            {n:"Szturmowiec Najwy偶szego Porzdku"}, {n:"Ci偶ki Szturmowiec"}, {n:"Szturmowiec z miotaczem ognia"}, {n:"Szturmowiec nie偶ny FO"}, {n:"Pilot TIE Si Specjalnych"}, {n:"Szturmowiec Kat"}, {n:"Szturmowiec Odrzutowy"}, {n:"Szturmowiec Sith贸w"}, {n:"Gwardzista Pretoriaski"}, {n:"Rycerz Ren (Vicrul)"}, {n:"Rycerz Ren (Cardo)"}, {n:"Rycerz Ren (Ushar)"}, {n:"Rycerz Ren (Kuruk)"}, {n:"Rycerz Ren (Trudgen)"}, {n:"Rycerz Ren (Ap'lek)"},
            {n:"Ezra Bridger"}, {n:"Kanan Jarrus"}, {n:"Hera Syndulla"}, {n:"Sabine Wren"}, {n:"Zeb Orrelios"}, {n:"Agent Kallus"}, {n:"Wielki Admira Thrawn"}, {n:"Inkwizytor"}, {n:"Grogu (Baby Yoda)"}, {n:"Moff Gideon"}, {n:"Bo-Katan Kryze"}, {n:"Cara Dune"}, {n:"Mandalorianin (Din Djarin)"}, {n:"Cobb Vanth"}, {n:"Krrsantan"}, {n:"Mon Mothma"}, {n:"Bail Organa"}, {n:"Figrin D'an"}, {n:"Ponda Baba"}, {n:"Dr. Evazan"}, {n:"Lobot"}, {n:"Malakili (Opiekun Rancora)"}, {n:"Oola"}
        ],

        "LEGO MARVEL": [
            {n:"Iron Man (MK 1)"}, {n:"Iron Man (MK 5)"}, {n:"Iron Man (MK 6)"}, {n:"Iron Man (MK 42)"}, {n:"Iron Man (MK 43)"}, {n:"Iron Man (MK 45)"}, {n:"Iron Man (MK 50)"}, {n:"Hulkbuster"}, {n:"Tony Stark"}, {n:"Tony Stark (W podkoszulku)"}, {n:"Superior Iron Man"},
            {n:"Kapitan Ameryka"}, {n:"Kapitan Ameryka (Bez maski)"}, {n:"Kapitan Ameryka (WW2)"}, {n:"Kapitan Ameryka (Sam Wilson)"}, {n:"Zimowy 呕onierz"}, {n:"Zimowy 呕onierz (W masce)"}, {n:"Bucky Barnes"}, {n:"Falcon"}, {n:"Falcon (Klasyczny)"},
            {n:"Spider-Man (Peter Parker)"}, {n:"Spider-Man (Miles Morales)"}, {n:"Spider-Gwen"}, {n:"Spider-Ham (Pajk-Chrum)"}, {n:"Spider-Man 2099"}, {n:"Spider-Man (Noir)"}, {n:"Spider-Man (Symbiot)"}, {n:"Spider-Man (Iron Spider)"}, {n:"Venom"}, {n:"Agent Venom"}, {n:"Carnage"}, {n:"Anti-Venom"},
            {n:"Thor"}, {n:"Thor (Ragnarok)"}, {n:"Thor (Klasyczny)"}, {n:"Pot偶na Thor (Jane Foster)"}, {n:"Hulk"}, {n:"Bruce Banner"}, {n:"She-Hulk"}, {n:"Czerwony Hulk (Red Hulk)"}, {n:"Czarna Wdowa"}, {n:"Czarna Wdowa (Szary str贸j)"}, {n:"Hawkeye"}, {n:"Ronin (Hawkeye)"}, {n:"Nick Fury"}, {n:"Maria Hill"}, {n:"Agent Coulson"}, {n:"Vision"}, {n:"Scarlet Witch"}, {n:"Quicksilver"}, {n:"Ant-Man (Scott Lang)"}, {n:"Ant-Man (Hank Pym)"}, {n:"Wasp (Osa)"}, {n:"Czarna Pantera"}, {n:"Shuri"}, {n:"Okoye"},
            {n:"Wolverine"}, {n:"Wolverine (Brzowy str贸j)"}, {n:"Logan"}, {n:"Cyclops"}, {n:"Storm"}, {n:"Jean Grey"}, {n:"Phoenix"}, {n:"Beast (Bestia)"}, {n:"Professor X"}, {n:"Magneto"}, {n:"Mystique"}, {n:"Sabretooth (Szablozbny)"}, {n:"Deadpool"}, {n:"Deadpool (X-Force)"}, {n:"Gwenpool"}, {n:"Mr. Fantastic"}, {n:"Niewidzialna Kobieta"}, {n:"Ludzka Pochodnia"}, {n:"Thing (Stw贸r)"}, {n:"Doktor Doom"}, {n:"Silver Surfer"},
            {n:"Star-Lord"}, {n:"Star-Lord (Szary str贸j)"}, {n:"Gamora"}, {n:"Drax"}, {n:"Rocket Raccoon (Szop Rocket)"}, {n:"Groot"}, {n:"Groot (May)"}, {n:"Baby Groot"}, {n:"Yondu"}, {n:"Nebula"}, {n:"Mantis"}, {n:"Adam Warlock"}, {n:"Nova"}, {n:"Cosmo (Kosmiczny pies)"},
            {n:"Doktor Strange"}, {n:"Wong"}, {n:"Staro偶ytna (Ancient One)"}, {n:"Ghost Rider (Johnny Blaze)"}, {n:"Ghost Rider (Robbie Reyes)"}, {n:"Moon Knight"}, {n:"Daredevil"}, {n:"Iron Fist"}, {n:"Luke Cage"}, {n:"Jessica Jones"}, {n:"Punisher"}, {n:"Blade"},
            {n:"Thanos"}, {n:"Thanos (Rkawica Nieskoczonoci)"}, {n:"Loki"}, {n:"Loki (W garniturze)"}, {n:"Ultron"}, {n:"Red Skull (Czerwona Czaszka)"}, {n:"Arnim Zola"}, {n:"Baron Zemo"}, {n:"Green Goblin"}, {n:"Doktor Octopus"}, {n:"Sandman"}, {n:"Electro"}, {n:"Mysterio"}, {n:"Vulture (Sp)"}, {n:"Kraven owca"}, {n:"Kingpin"}, {n:"Bullseye"}, {n:"M.O.D.O.K."}, {n:"Abomination"}, {n:"Leader"}, {n:"Enchantress"}, {n:"Executioner"}, {n:"Hela"}, {n:"Ronan Oskar偶yciel"}, {n:"Ego"},
            {n:"Stan Lee"}, {n:"Stan Lee (Hulkbuster)"}, {n:"Kaczor Howard"}, {n:"Squirrel Girl"}, {n:"Kapitan Brytania"}, {n:"Agentka Carter"}
        ],

        "LEGO HARRY POTTER": [
            {n:"Harry Potter (Szata szkolna)"}, {n:"Harry Potter (Zadanie Turniejowe)"}, {n:"Harry Potter (Str贸j do Quidditcha)"}, {n:"Harry Potter (Szaty wyjciowe)"}, {n:"Harry Potter (Zima)"}, {n:"Harry Potter (Pi偶ama)"}, {n:"Harry Potter (Dolina Godryka)"},
            {n:"Ron Weasley (Szata szkolna)"}, {n:"Ron Weasley (Sweter)"}, {n:"Ron Weasley (Str贸j do Quidditcha)"}, {n:"Ron Weasley (Szaty wyjciowe)"}, {n:"Ron Weasley (Zima)"}, {n:"Ron Weasley (Kucharz)"},
            {n:"Hermiona Granger (Szata szkolna)"}, {n:"Hermiona Granger (Suknia balowa)"}, {n:"Hermiona Granger (Zima)"}, {n:"Hermiona Granger (Jako kot)"}, {n:"Hermiona Granger (Czerwona suknia)"}, {n:"Hermiona Granger (Gringott)"},
            {n:"Neville Longbottom"}, {n:"Neville (Pi偶ama)"}, {n:"Ginny Weasley"}, {n:"Ginny (Quidditch)"}, {n:"Fred Weasley"}, {n:"George Weasley"}, {n:"Percy Weasley"}, {n:"Seamus Finnigan"}, {n:"Dean Thomas"}, {n:"Lee Jordan"}, {n:"Oliver Wood"}, {n:"Angelina Johnson"}, {n:"Parvati Patil"},
            {n:"Albus Dumbledore"}, {n:"Albus Dumbledore (Mody)"}, {n:"Severus Snape"}, {n:"Snape (W ubraniu babci)"}, {n:"Minerva McGonagall"}, {n:"Rubeus Hagrid"}, {n:"Szalonooki Moody"}, {n:"Remus Lupin"}, {n:"Lupin (Wilkoak)"}, {n:"Gilderoy Lockhart"}, {n:"Horacy Slughorn"}, {n:"Slughorn (Jako fotel)"}, {n:"Filius Flitwick"}, {n:"Pomona Sprout"}, {n:"Sybilla Trelawney"}, {n:"Madam Pomfrey"}, {n:"Madam Hooch"}, {n:"Argus Filch"},
            {n:"Sirius Black"}, {n:"Sirius Black (Wizie)"}, {n:"Arthur Weasley"}, {n:"Molly Weasley"}, {n:"Bill Weasley"}, {n:"Nimfadora Tonks"}, {n:"Kingsley Shacklebolt"}, {n:"Aberforth Dumbledore"}, {n:"James Potter"}, {n:"Lily Potter"},
            {n:"Lord Voldemort"}, {n:"Tom Riddle"}, {n:"Bellatrix Lestrange"}, {n:"Lucius Malfoy"}, {n:"Narcyza Malfoy"}, {n:"Draco Malfoy"}, {n:"Draco (Szata szkolna)"}, {n:"Draco (Quidditch)"}, {n:"Vincent Crabbe"}, {n:"Gregory Goyle"}, {n:"Blaise Zabini"}, {n:"Pansy Parkinson"}, {n:"Marcus Flint"}, {n:"Antonin Dolohov"}, {n:"Fenrir Greyback"}, {n:"Barty Crouch Jr."},
            {n:"Luna Lovegood"}, {n:"Luna (Maska lwa)"}, {n:"Cho Chang"}, {n:"Padma Patil"}, {n:"Terry Boot"},
            {n:"Cedric Diggory"}, {n:"Cedric (Zadanie Turniejowe)"}, {n:"Justin Finch-Fletchley"}, {n:"Hannah Abbott"}, {n:"Susan Bones"}, {n:"Ernie Macmillan"},
            {n:"Zgredek (Dobby)"}, {n:"Stworek (Kreacher)"}, {n:"Gryfek (Griphook)"}, {n:"Bogrod (Gringott)"}, {n:"Prawie Bezgowy Nick"}, {n:"Krwawy Baron"}, {n:"Szara Dama"}, {n:"Gruby Mnich"}, {n:"Jczca Marta"}, {n:"Profesor Binns"},
            {n:"Korneliusz Knot"}, {n:"Rufus Scrimgeour"}, {n:"Dolores Umbridge"}, {n:"Wiktor Krum"}, {n:"Fleur Delacour"}, {n:"Madame Maxime"}, {n:"Igor Karkarow"}, {n:"Ksenofilius Lovegood"}, {n:"Rita Skeeter"}, {n:"Stan Shunpike"}, {n:"Dudley Dursley"}, {n:"Vernon Dursley"}, {n:"Petunia Dursley"}
        ],

        "LEGO BATMAN": [
            {n:"Batman"}, {n:"Batman (Klasyczny)"}, {n:"Batman (Zbroja Sensor)"}, {n:"Batman (Zbroja Power)"}, {n:"Batman (Zbroja Sonic)"}, {n:"Batman (Zbroja Arctic)"}, {n:"Batman (Zbroja Electricity)"}, {n:"Batman (Zbroja Space)"}, {n:"Batman (Zbroja Scuba)"}, {n:"Batman (Zur-En-Arrh)"}, {n:"Bruce Wayne"}, {n:"Batman (Mroczny Rycerz)"},
            {n:"Robin"}, {n:"Robin (Klasyczny)"}, {n:"Robin (Str贸j magnetyczny)"}, {n:"Nightwing"}, {n:"Red Hood"}, {n:"Batgirl"}, {n:"Batwoman"}, {n:"Alfred Pennyworth"}, {n:"Komisarz Gordon"}, {n:"Ace (Pies Batmana)"}, {n:"Huntress (owczyni)"}, {n:"Azrael"}, {n:"Bat-Mite"}, {n:"Spoiler"},
            {n:"Superman"}, {n:"Clark Kent"}, {n:"Superman (Solar Suit)"}, {n:"Wonder Woman"}, {n:"Wonder Woman (New 52)"}, {n:"The Flash (Barry Allen)"}, {n:"The Flash (Wally West)"}, {n:"Green Lantern (Hal Jordan)"}, {n:"Green Lantern (John Stewart)"}, {n:"Aquaman"}, {n:"Cyborg"}, {n:"Martian Manhunter (J'onn J'onzz)"}, {n:"Shazam"}, {n:"Green Arrow"}, {n:"Black Canary"}, {n:"Hawkman"}, {n:"Hawkgirl"}, {n:"Zatanna"}, {n:"Plastic Man"}, {n:"Blue Beetle"}, {n:"Booster Gold"}, {n:"Supergirl"}, {n:"Firestorm"}, {n:"Doctor Fate"}, {n:"Atom"},
            {n:"Sinestro"}, {n:"Saint Walker (Bkitna Latarnia)"}, {n:"Atrocitus (Czerwona Latarnia)"}, {n:"Star Sapphire (Fioletowa Latarnia)"}, {n:"Larfleeze (Pomaraczowa Latarnia)"}, {n:"Indigo-1"}, {n:"Kilowog"},
            {n:"Joker"}, {n:"Joker (Tropikalny)"}, {n:"Joker (Pielgniarka)"}, {n:"Joker (Mim)"}, {n:"Harley Quinn"}, {n:"Harley Quinn (Klasyczna)"},
            {n:"Pingwin"}, {n:"Riddler (Zagadka)"}, {n:"Dwie-Twarze"}, {n:"Catwoman (Kobieta-Kot)"}, {n:"Poison Ivy (Trujcy Bluszcz)"}, {n:"Scarecrow (Strach na wr贸ble)"}, {n:"Bane"}, {n:"Bane (Doadowany Venomem)"}, {n:"Mr. Freeze"}, {n:"Killer Croc"}, {n:"Clayface"}, {n:"Ra's al Ghul"}, {n:"Deathstroke"}, {n:"Deadshot"}, {n:"Man-Bat"}, {n:"Mad Hatter (Szalony Kapelusznik)"}, {n:"Killer Frost"}, {n:"Captain Cold"}, {n:"Gorilla Grodd"}, {n:"Reverse-Flash"}, {n:"Black Manta"}, {n:"Solomon Grundy"}, {n:"Killer Moth"}, {n:"Firefly"}, {n:"Hush"}, {n:"Ventrilokwista i Scarface"},
            {n:"Lex Luthor"}, {n:"Lex Luthor (Zbroja)"}, {n:"Brainiac"}, {n:"Darkseid"}, {n:"General Zod"}, {n:"Doomsday"}, {n:"Lobo"}, {n:"Black Adam"}, {n:"Metallo"}, {n:"Bizarro"}, {n:"Trigon"}, {n:"Mr. Mxyzptlk"}
        ],
        
        "LEGO LOTR / HOBBIT": [
            {n:"Frodo Baggins"}, {n:"Frodo (W ubraniu z Shire)"}, {n:"Frodo (Zbroja Orka)"}, {n:"Samwise Gamgee"}, {n:"Sam (Zbroja Orka)"}, {n:"Merry Brandybuck"}, {n:"Merry (Zbroja Rohanu)"}, {n:"Pippin Took"}, {n:"Pippin (Zbroja Gondoru)"}, {n:"Gandalf Szary"}, {n:"Gandalf Biay"}, {n:"Aragorn (Obie偶ywiat)"}, {n:"Aragorn (Kr贸l Elessar)"}, {n:"Legolas"}, {n:"Gimli"}, {n:"Boromir"},
            {n:"Thorin Dbowa Tarcza"}, {n:"Thorin (Miasto na Jeziorze)"}, {n:"Thorin (Kr贸lewska zbroja)"}, {n:"Balin"}, {n:"Dwalin"}, {n:"Fili"}, {n:"Kili"}, {n:"Oin"}, {n:"Gloin"}, {n:"Dori"}, {n:"Nori"}, {n:"Ori"}, {n:"Bifur"}, {n:"Bofur"}, {n:"Bombur"}, {n:"Dain 呕elazna Stopa"}, {n:"Thrain"},
            {n:"Elrond"}, {n:"Elrond (Zbroja)"}, {n:"Galadriela"}, {n:"Arwena"}, {n:"Celeborn"}, {n:"Thranduil"}, {n:"Tauriela"}, {n:"Haldir"}, {n:"Gil-galad"}, {n:"Bard ucznik"}, {n:"Bilbo Baggins (Stary)"}, {n:"Bilbo Baggins (Mody)"}, {n:"Kr贸l Theoden"}, {n:"Eomer"}, {n:"Eowina"}, {n:"Denethor"}, {n:"Faramir"}, {n:"Isildur"}, {n:"Radagast Bury"}, {n:"Bain"},
            {n:"Sauron"}, {n:"Saruman Biay"}, {n:"Czarnoksi偶nik z Angmaru (Witch-king)"}, {n:"Nazgul (Upi贸r Piercienia)"}, {n:"Nazgul (Wersja jasna/Twilight)"}, {n:"Lurtz"}, {n:"Grima Smoczy Jzyk"}, {n:"Gollum"}, {n:"Smeagol"}, {n:"Azog Plugawiec"}, {n:"Bolg"}, {n:"Wielki Goblin"}, {n:"Rzecznik Saurona"}, {n:"Uruk-hai"}, {n:"Orczy Wojownik"}, {n:"Ork z Mordoru"}, {n:"Ork z Gundabad"}, {n:"Troll Jaskiniowy"}, {n:"Goblin Pisarz"}, {n:"Nekromanta"}, {n:"Kr贸l Umarych"}, {n:"呕onierz Umarych"}, {n:"Gothmog"}, {n:"Shagrat"}, {n:"Grishnakh"},
            {n:"Barliman Butterbur"}, {n:"R贸偶a Cotton"}, {n:"Gaffer Gamgee (Dziadunio)"}, {n:"Wadca Miasta na Jeziorze"}, {n:"Alfrid"}, {n:"Beorn"}, {n:"Tom Bombadil"}, {n:"Bree Peasant (Mieszkaniec Bree)"}, {n:"Gwaihir (Orze)"}
        ],

        "LEGO CITY UNDERCOVER": [
            {n:"Chase McCain (Policjant)"}, {n:"Chase McCain (Zodziej)"}, {n:"Chase McCain (G贸rnik)"}, {n:"Chase McCain (Astronauta)"}, {n:"Chase McCain (Rolnik)"}, {n:"Chase McCain (Stra偶ak)"}, {n:"Chase McCain (Budowniczy)"}, {n:"Chase McCain (Kung Fu)"}, {n:"Chase McCain (Nurek)"}, {n:"Chase McCain (Bielizna)"}, {n:"Chase McCain (Pilot)"},
            {n:"Frank Honey"}, {n:"Ellie Phillips"}, {n:"Natalia Kowalski"}, {n:"Komisarz Dunby"}, {n:"Burmistrz Gleeson"}, {n:"Szeryf Huckleberry"}, {n:"Marion Dunby"}, {n:"Chief Kanui"}, {n:"Chuck Fieri"}, {n:"Barry Smith"}, {n:"Albert Speth"}, {n:"Profesor Kowalski"},
            {n:"Rex Fury"}, {n:"Vinnie Pappalardo"}, {n:"Chan Chuang"}, {n:"Forrest Blackwell"}, {n:"Jimmy Capra"}, {n:"Smokey Fuentes"}, {n:"Sentinel Channing"}, {n:"Carl Walrus"}, {n:"Jedidiah"}, {n:"Moe De Luca"}, {n:"Ludwig Von Krupman"}, {n:"Cornelius Burns"}, {n:"Zack Woodman"},
            {n:"Barbara Babble"}, {n:"Benny Spetz"}, {n:"Bucky Butler"}, {n:"Clutch"}, {n:"Kucharz"}, {n:"Doktor Jones"}, {n:"Eksplorator"}, {n:"Mechanik"}, {n:"Pracownik stacji paliw"}, {n:"Horace Tappleby"}, {n:"Sprzedawca lod贸w"}, {n:"James Curry"}, {n:"Jethro Hayes"}, {n:"Lola Babbiti"}, {n:"Kustosz muzeum"}, {n:"Prezenter wiadomoci"}, {n:"Starsza pani"}, {n:"Stra偶nik wizienny"}, {n:"Kierowca wycigowy"}, {n:"Taks贸wkarz"}, {n:"Ratownik medyczny"},
            {n:"Mumia"}, {n:"Faraon"}, {n:"Robot"}, {n:"Samuraj"}, {n:"Surfer"}, {n:"Wiking"}, {n:"Czowiek z papier-m芒ch茅"}, {n:"Nind偶a"}, {n:"Jaskiniowiec"}, {n:"Leprechaun"}, {n:"Pajacyk w pudeku"}, {n:"Zombie"}, {n:"Kosmonauta (Klasyczny)"}, {n:"Klaun"}, {n:"Magik"}, {n:"Pirat"}, {n:"Rycerz"}, {n:"Goryl (Kostium)"}, {n:"Wilkoak"}, {n:"Wrestler"}, {n:"Spartanin"}, {n:"Elf"}, {n:"Krasnal ogrodowy"}, {n:"wity Mikoaj"}
        ],

        "LEGO INDIANA JONES": [
            {n:"Indiana Jones"}, {n:"Indiana Jones (Pustynny)"}, {n:"Indiana Jones (Smoking)"}, {n:"Indiana Jones (Profesor)"}, {n:"Indiana Jones (W przebraniu 偶onierza)"}, {n:"Indiana Jones (Oficer)"}, {n:"Indiana Jones (Stary)"}, {n:"Indiana Jones (witynia Zagady)"}, {n:"Mody Indiana Jones"},
            {n:"Henry Jones Sr."}, {n:"Marion Ravenwood"}, {n:"Marion (Suknia wieczorowa)"}, {n:"Marion (Kair)"}, {n:"Mutt Williams"}, {n:"Mutt (Kurtka motocyklowa)"}, {n:"Short Round (Kr贸tki Szpic)"}, {n:"Sallah"}, {n:"Sallah (Pustynny)"}, {n:"Marcus Brody"}, {n:"Jock (Pilot)"}, {n:"Kapitan Katanga"}, {n:"Harold Oxley"}, {n:"Wu Han"}, {n:"Willie Scott"}, {n:"Willie (Piosenkarka)"}, {n:"Willie (Ceremonia)"},
            {n:"Rene Belloq"}, {n:"Belloq (Rytualne szaty)"}, {n:"Belloq (D偶ungla)"}, {n:"Major Toht"}, {n:"Pukownik Dietrich"}, {n:"Mola Ram"}, {n:"Chatter Lal"}, {n:"Walter Donovan"}, {n:"Pukownik Vogel"}, {n:"Dr Elsa Schneider"}, {n:"Elsa (Oficer)"}, {n:"Irina Spalko"}, {n:"Pukownik Dowczenko"}, {n:"Lao Che"}, {n:"Kao Kan"}, {n:"Chen"},
            {n:"Wojownik Hovitos"}, {n:"Satipo"}, {n:"Barranca"}, {n:"Szerpa (Osiek)"}, {n:"Zbir z Kairu"}, {n:"Szermierz z Kairu"}, {n:"Bandyta"}, {n:"呕onierz niemiecki"}, {n:"Oficer niemiecki"}, {n:"Stra偶nik niemiecki"}, {n:"呕onierz z bazook"}, {n:"Rycerz Graala"}, {n:"Thuggee (Kultysta)"}, {n:"Kapan Thuggee"}, {n:"Stra偶nik Pankot"}, {n:"呕onierz radziecki"}, {n:"Oficer radziecki"}, {n:"Wojownik Ugha"}, {n:"Zab贸jca Ugha"},
            {n:"Han Solo (Ukryta posta)"}, {n:"wity Mikoaj"}, {n:"Tancerka"}, {n:"Starszy wioski"}, {n:"Brytyjski dow贸dca"}, {n:"Pierwszy oficer"}, {n:"Cmentarny wojownik"}, {n:"Wojownik w masce"}
        ],

        "LEGO PIRACI Z KARAIBW": [
            {n:"Jack Sparrow"}, {n:"Jack Sparrow (W贸dz Pelegostos)"}, {n:"Jack Sparrow (Przeklty)"}, {n:"Jack Sparrow (Kamizelka)"}, {n:"Jack Sparrow (Oficer)"}, {n:"Jack Sparrow (Szkielet)"},
            {n:"Will Turner"}, {n:"Will Turner (Bootstrap)"}, {n:"Elizabeth Swann"}, {n:"Elizabeth Swann (Pirat)"}, {n:"Elizabeth Swann (Czerwony paszcz)"}, {n:"Elizabeth Swann (Singapur)"}, {n:"Joshamee Gibbs"}, {n:"Anamaria"}, {n:"Pintel"}, {n:"Ragetti"}, {n:"Cotton"}, {n:"Marty"}, {n:"Tia Dalma"}, {n:"Calypso"},
            {n:"Hektor Barbossa"}, {n:"Barbossa (Przeklty)"}, {n:"Barbossa (Korsarz)"}, {n:"Davy Jones"}, {n:"Maccus"}, {n:"Koleniko"}, {n:"Palifico"}, {n:"Hadras"}, {n:"Clang"}, {n:"Szelma Bill Turner"}, {n:"Czarnobrody"}, {n:"Angelica"}, {n:"Lord Cutler Beckett"}, {n:"James Norrington"}, {n:"Admira Norrington"}, {n:"Gubernator Weatherby Swann"}, {n:"Kapitan Sao Feng"}, {n:"Tai Huang"},
            {n:"Murtogg"}, {n:"Mullroy"}, {n:"Porucznik Theodore Groves"}, {n:"Gillette"}, {n:"Hiszpaski oficer"}, {n:"Hiszpaski 偶onierz"}, {n:"Kr贸l Jerzy II"}, {n:"Angielski stra偶nik"},
            {n:"Syrena"}, {n:"Tamara (Syrena)"}, {n:"Philip Swift"}, {n:"Hiszpan (The Spaniard)"}, {n:"Kwatermistrz"}, {n:"Kanonier"}, {n:"Kucharz"}, {n:"Pies wizienny"}, {n:"Mapka Jack"}, {n:"Papuga"}, {n:"Wo藕nica"}, {n:"Pijany pirat"}, {n:"Szyper"}, {n:"Stary marynarz"},
            {n:"Bootstrap Bill (Przeklty)"}, {n:"Wyvern"}, {n:"Angus"}, {n:"Yeoman"}, {n:"Derrick"}, {n:"Scrum"}, {n:"Garheng"}, {n:"Salaman"}, {n:"Zab贸jca hiszpaski"}, {n:"Pirata z Tortugi"}
        ],
        
        "LEGO JURASSIC WORLD": [
            {n:"Alan Grant"}, {n:"Ellie Sattler"}, {n:"Ian Malcolm"}, {n:"John Hammond"}, {n:"Lex Murphy"}, {n:"Tim Murphy"}, {n:"Robert Muldoon"}, {n:"Dennis Nedry"}, {n:"Donald Gennaro"}, {n:"Ray Arnold"},
            {n:"Owen Grady"}, {n:"Owen (Survival)"}, {n:"Claire Dearing"}, {n:"Claire (Laboratorium)"}, {n:"Simon Masrani"}, {n:"Vic Hoskins"}, {n:"Lowery Cruthers"}, {n:"Barry Semb猫ne"}, {n:"Hamada"}, {n:"Zara"}, {n:"Gray Mitchell"}, {n:"Zach Mitchell"}, {n:"Henry Wu"}, {n:"Dr Henry Wu (1993)"}, {n:"Franklin Webb"}, {n:"Zia Rodriguez"}, {n:"Maisie Lockwood"}, {n:"Eli Mills"}, {n:"Ken Wheatley"},
            {n:"Sarah Harding"}, {n:"Nick Van Owen"}, {n:"Eddie Carr"}, {n:"Roland Tembo"}, {n:"Peter Ludlow"}, {n:"Paul Kirby"}, {n:"Amanda Kirby"}, {n:"Eric Kirby"}, {n:"Billy Brennan"}, {n:"Udesky"},
            {n:"Tyrannosaurus Rex (T-Rex)"}, {n:"Indominus Rex"}, {n:"Indoraptor"}, {n:"Velociraptor (Blue)"}, {n:"Velociraptor (Charlie)"}, {n:"Velociraptor (Delta)"}, {n:"Velociraptor (Echo)"}, {n:"Triceratops"}, {n:"Brachiozaur"}, {n:"Stegozaur"}, {n:"Dilofozaur"}, {n:"Spinozaur"}, {n:"Ankylozaur"}, {n:"Pteranodon"}, {n:"Mozozaur"}, {n:"Gallimim"}, {n:"Kompsognat (Compy)"}, {n:"Pachycefalozaur"}, {n:"Stygimoloch (Stiggy)"}, {n:"Karnozaur"}, {n:"Baryonyks"}, {n:"Atrociraptor"}, {n:"Giganotozaur"}, {n:"Maa Beta (Raptor)"},
            {n:"Pracownik Parku"}, {n:"Stra偶nik InGen"}, {n:"Naukowiec InGen"}, {n:"呕onierz ACU"}, {n:"Weterynarz"}, {n:"Turysta"}, {n:"Pan DNA (Mr. DNA)"}, {n:"Jimmy Fallon"}, {n:"Kierowca ci偶ar贸wki"}, {n:"Pilot helikoptera"}
        ],
        
        "LEGO PRZYGODA": [
            {n:"Emmet (Budowniczy)"}, {n:"Emmet (Pi偶ama)"}, {n:"Emmet (Mistrz Konstrukcji)"}, {n:"Emmet (Smoking)"}, {n:"Emmet (W kuble na mieci)"}, {n:"Emmet (W stroju jaszczurki)"}, {n:"Rex Niebezpiecznik"}, {n:"Rex (Z maym raptorem)"},
            {n:"呕yleta (Wyldstyle)"}, {n:"呕yleta (Kaptur na gowie)"}, {n:"呕yleta (Styl westernowy)"}, {n:"呕yleta (Kosmos)"}, {n:"Lucy (Apokalipsburg)"}, {n:"Lucy (Skradanie)"}, {n:"Benny (Kosmonauta)"}, {n:"Benny (Z metalow rk)"}, {n:"Stalowobrody"}, {n:"Stalowobrody (Mini)"}, {n:"Witruwiusz"}, {n:"Witruwiusz (Duch)"}, {n:"Kicia Ro偶ek"}, {n:"Kicia Ro偶ek (Gwiezdna)"}, {n:"Kicia Ro偶ek (Za/Angry)"}, {n:"Kicia Ro偶ek (Chora)"}, {n:"Kicia Ro偶ek (Biznes)"}, {n:"Batman (LEGO Movie)"},
            {n:"Prezes Biznes"}, {n:"Lord Biznes (Wielkie nogi)"}, {n:"Zy Glina"}, {n:"Dobry Glina"}, {n:"Mama Glina"}, {n:"Tata Glina"}, {n:"Sodka 呕yleta (Sweet Mayhem)"}, {n:"Kr贸lowa Wisimi I'Powiewa"}, {n:"Genera Zadyma"}, {n:"Kosmita DUPLO"}, {n:"Balthazar"},
            {n:"Abraham Lincoln"}, {n:"William Szekspir"}, {n:"Kleopatra"}, {n:"Panczo Villa"}, {n:"Gandalf (Z filmu)"}, {n:"Dumbledore (Z filmu)"}, {n:"Superman (LEGO Movie)"}, {n:"Green Lantern (LEGO Movie)"}, {n:"Wonder Woman (LEGO Movie)"}, {n:"Shaquille O'Neal"}, {n:"Banan"}, {n:"Lodziarz"}, {n:"Czowiek Panda"}, {n:"Larry Barista"}, {n:"Calamity Jane"}, {n:"Szeryf Nie-robot"}, {n:"Pilot testowy"}, {n:"Magik"}, {n:"Kobieta Kot (LEGO Movie)"},
            {n:"Apokalipsburg Abe"}, {n:"Benny (Zardzewiay)"}, {n:"Chopak z kanalizacji"}, {n:"Surferka (Apokalipsa)"}, {n:"M贸jka"}, {n:"Wasteland Batman"}, {n:"Mechanik samochodowy"}, {n:"Dzika tancerka"}, {n:"Czowiek wafel"}, {n:"Kole w kostiumie rekina"}, {n:"Nind偶a z Klocburga"}
        ],
        
        "LEGO NINJAGO": [
            {n:"Lloyd (Zielony Ninja)"}, {n:"Lloyd (Z kapturem)"}, {n:"Lloyd (Kendo)"}, {n:"Lloyd (Str贸j szkolny)"}, {n:"Zoty Lloyd"},
            {n:"Kai (Ninja)"}, {n:"Kai (Kendo)"}, {n:"Kai (Str贸j szkolny)"}, {n:"Kai (Treningowy)"},
            {n:"Jay (Ninja)"}, {n:"Jay (Kendo)"}, {n:"Jay (Str贸j szkolny)"}, {n:"Jay (Treningowy)"},
            {n:"Cole (Ninja)"}, {n:"Cole (Kendo)"}, {n:"Cole (Str贸j szkolny)"}, {n:"Cole (Treningowy)"},
            {n:"Zane (Ninja)"}, {n:"Zane (Kendo)"}, {n:"Zane (Str贸j szkolny)"}, {n:"Zane (Robot/Tytanowy)"},
            {n:"Nya (Ninja)"}, {n:"Nya (Kendo)"}, {n:"Nya (Str贸j szkolny)"}, {n:"Nya (Ceremonialna)"},
            {n:"Mistrz Wu"}, {n:"Mistrz Wu (Mody)"}, {n:"Mistrz Wu (Kimono)"}, {n:"Lord Garmadon"}, {n:"Lord Garmadon (Klasyczny)"}, {n:"Garmadon (W garniturze)"}, {n:"Garmadon (W d偶ungli)"}, {n:"Koko"}, {n:"Misako"}, {n:"Pierwszy Mistrz Spinjitzu"},
            {n:"Strzelec Armii Rekin贸w"}, {n:"Zbir Armii Rekin贸w"}, {n:"Genera Armii Rekin贸w #1"}, {n:"Omiornica (Armia Rekin贸w)"}, {n:"Wielki Biay (Armia Rekin贸w)"}, {n:"Krab (Armia Rekin贸w)"}, {n:"呕abnica (Armia Rekin贸w)"}, {n:"Meduza (Armia Rekin贸w)"}, {n:"Mot (Hammerhead)"}, {n:"Skorupiak (Crusty)"}, {n:"Rozdymka (Puffer)"},
            {n:"Pythor"}, {n:"Skales"}, {n:"Mistrz Chen"}, {n:"Morro"}, {n:"Nadakhan"}, {n:"Harumi"}, {n:"Kryptor"}, {n:"Samuraj X"},
            {n:"Burmistrz Ninjago"}, {n:"Dziewczyna N-Pop"}, {n:"Mistrz Sushi"}, {n:"Informatyk (Nerd)"}, {n:"Chopak w kostiumie kurczaka"}, {n:"Czowiek Hot Dog"}, {n:"Perkusista"}, {n:"Listonosz"}, {n:"Edna Walker"}, {n:"Ed Walker"}, {n:"Dareth (Brzowy Ninja)"}, {n:"Dr Julien"}, {n:"Ronin"}, {n:"Nelson (Gazeciarz)"},
            {n:"Duch Cole'a"}, {n:"Wojownik cienia"}, {n:"Szkielet Kruncha"}, {n:"Szkielet Nuckal"}, {n:"Szalony naukowiec"}
        ],
        
        "LEGO DIMENSIONS": [
            {n:"Lego Batman"}, {n:"Gandalf"}, {n:"呕yleta (Wyldstyle)"},
            {n:"Superman"}, {n:"Wonder Woman"}, {n:"Aquaman"}, {n:"Cyborg"}, {n:"The Flash"}, {n:"Harley Quinn"}, {n:"Joker"}, {n:"Bane"}, {n:"Suicide Squad Harley"},
            {n:"Legolas"}, {n:"Gimli"}, {n:"Gollum"},
            {n:"Emmet"}, {n:"Benny"}, {n:"Kicia Ro偶ek (Unikitty)"}, {n:"Stalowobrody (Bad Cop)"},
            {n:"Kai"}, {n:"Jay"}, {n:"Cole"}, {n:"Zane"}, {n:"Nya"}, {n:"Sensei Wu"}, {n:"Lloyd"},
            {n:"Homer Simpson"}, {n:"Bart Simpson"}, {n:"Klaun Krusty"},
            {n:"Dwunasty Doktor"}, {n:"Cyberman"},
            {n:"Marty McFly"}, {n:"Doc Brown"},
            {n:"Peter Venkman"}, {n:"Slimer"}, {n:"Stay Puft"}, {n:"Abby Yates"},
            {n:"Chell"}, {n:"Owen Grady"}, {n:"Stra偶nik ACU"},
            {n:"Scooby-Doo"}, {n:"Kudaty (Shaggy)"},
            {n:"Gamer Kid"}, {n:"Finn the Human"}, {n:"Jake the Dog"}, {n:"Marcelina"}, {n:"Kr贸lewna Grudkowego Kosmosu"},
            {n:"Ethan Hunt"}, {n:"Harry Potter"}, {n:"Lord Voldemort"}, {n:"Hermiona Granger"},
            {n:"B.A. Baracus"}, {n:"Newt Scamander"}, {n:"Tina Goldstein"},
            {n:"Sonic the Hedgehog"}, {n:"Gizmo"}, {n:"Stripe"}, {n:"E.T."}, {n:"Za Czarownica"},
            {n:"Batgirl"}, {n:"Robin (LEGO Batman Movie)"}, {n:"Excalibur Batman"},
            {n:"Michael Knight"}, {n:"Sloth"}, {n:"Chase McCain"},
            {n:"B贸jka"}, {n:"Bajka"}, {n:"Brawurka"},
            {n:"Robin (TTG)"}, {n:"Raven"}, {n:"Bestia (Beast Boy)"}, {n:"Starfire"}, {n:"Beetlejuice"}
        ],
        
        "LEGO INIEMAMOCNI": [
            {n:"Pan Iniemamocny (Bob Parr)"}, {n:"Elastyna (Helen Parr)"}, {n:"Maksymilian Parr (Maks)"}, {n:"Wiola Parr"}, {n:"Jack-Jack (Normalny)"}, {n:"Jack-Jack (Potw贸r)"}, {n:"Jack-Jack (Ogie)"}, {n:"Jack-Jack (Metal)"},
            {n:"Mro偶on (Lucius Best)"}, {n:"Edna Mode"}, {n:"Rick Dicker"}, {n:"Gazerbeam"}, {n:"Szybkobiegacz"}, {n:"Refleksja (Voyd)"}, {n:"Cega (Brick)"}, {n:"Zgryz (Krushauer)"}, {n:"He-Lectrix"}, {n:"Krzesztand (Screech)"},
            {n:"Syndrom"}, {n:"Mirage"}, {n:"Bomb Voyage"}, {n:"Podkopywacz"}, {n:"Ekranocholik"}, {n:"Pani Atakier"},
            {n:"Pan Iniemamocny (Zota Era)"}, {n:"Elastyna (Zota Era)"}, {n:"Pan Iniemamocny (Retro)"}, {n:"Lucius Best (Cywil)"}, {n:"Tony Rydinger"}, {n:"Bernie Kropp"}, {n:"Gilbert Huph"}, {n:"Kari McKeen"}, {n:"Burmistrz Metroville"}, {n:"Policjant z Metroville"},
            {n:"Apogeum"}, {n:"Blazestone"}, {n:"Fylaks"}, {n:"Macroburst"}, {n:"Thunderhead"}, {n:"Universal Man"},
            {n:"Chudy (Toy Story)"}, {n:"Zygzak McQueen (Auta)"}, {n:"Merida Waleczna"}, {n:"Miguel (Coco)"}, {n:"Sulley (Potwory i Sp贸ka)"}
        ]
    };

function createGame() {
        const code = "LEGO-" + Math.floor(100 + Math.random() * 899);
        document.getElementById('room-input').value = code;
        enterLobby(code);
    }

    function joinGame() {
        const code = document.getElementById('room-input').value.trim();
        if (code.length < 1) return alert("Wpisz kod!");
        enterLobby(code);
    }

    function enterLobby(code) {
        document.getElementById('setup-view').style.display = 'none';
        document.getElementById('lobby-view').style.display = 'block';
        document.getElementById('display-code').innerText = code.toUpperCase();
        generateCategoryButtons();
    }

    function generateCategoryButtons() {
        const container = document.getElementById('category-buttons');
        container.innerHTML = '';
        
        const mixBtn = document.createElement('button');
        mixBtn.className = 'cat-btn';
        mixBtn.style.background = 'orange'; mixBtn.style.color = 'black';
        mixBtn.innerText = ' TRYB MIX';
        mixBtn.onclick = () => initGame('MIX');
        container.appendChild(mixBtn);

        Object.keys(db).forEach(cat => {
            const btn = document.createElement('button');
            btn.className = 'cat-btn';
            btn.innerText = cat.replace('LEGO ', '');
            btn.onclick = () => initGame(cat);
            container.appendChild(btn);
        });
    }

    // --- KLUCZOWA FUNKCJA: INICJALIZACJA GRY ---
    function initGame(category) {
        const roomCode = document.getElementById('display-code').innerText;
        let pool = (category === 'MIX') ? [].concat(...Object.values(db)) : [...db[category]];

        // 1. ZAMIANA KODU POKOJU NA LICZB (SEED)
        let seed = 0;
        for (let i = 0; i < roomCode.length; i++) {
            seed = ((seed << 5) - seed) + roomCode.charCodeAt(i);
            seed |= 0;
        }

        // 2. GENERATOR LICZB PSEUDOLOSOWYCH (Mulberry32)
        function mulberry32(a) {
            return function() {
              var t = a += 0x6D2B79F5;
              t = Math.imul(t ^ t >>> 15, t | 1);
              t ^= t + Math.imul(t ^ t >>> 7, t | 61);
              return ((t ^ t >>> 14) >>> 0) / 4294967296;
            }
        }
        const rand = mulberry32(seed);

        // 3. MIESZANIE FISHER-YATES (Gwarantuje ten sam wynik u obu graczy)
        for (let i = pool.length - 1; i > 0; i--) {
            const j = Math.floor(rand() * (i + 1));
            [pool[i], pool[j]] = [pool[j], pool[i]];
        }

        // 4. WYBR TYCH SAMYCH 24 KART
        const selected = pool.slice(0, 24);

        // 5. TWOJA POSTA (Cakowicie losowa dla ka偶dego gracza z puli tych 24 kart)
        const target = selected[Math.floor(Math.random() * 24)];
        document.getElementById('target-name').innerText = target.n;

        
        // 6. RENDEROWANIE PLANSZY
    const grid = document.getElementById('character-grid');
    grid.innerHTML = '';

    selected.forEach(char => {
      const card = document.createElement('div');
      card.className = 'card';
      
            // Lista format贸w do przetestowania
            const extensions = ['jpg', 'png', 'webp', 'jpeg'];
            let currentExtIndex = 0;

            // Funkcja pomocnicza do budowania adresu GitHub
            const getGithubUrl = (ext) => `https://raw.githubusercontent.com/${githubConfig.user}/${githubConfig.repo}/main/${githubConfig.folder}/${encodeURIComponent(char.n)}.${ext}`;
            
      const cleanName = char.n.replace(/\(.*\)/, '').trim();
      const urlInternet = `https://tse2.mm.bing.net/th?q=lego+${encodeURIComponent(cleanName)}+minifigure&w=200&h=300&c=7&rs=1&p=0&dpr=1&pid=1.7`;

      card.innerHTML = `
        <div style="position: relative; height: 140px; background: #f0f0f0; border-radius: 5px; overflow: hidden; display: flex; align-items: center; justify-content: center;">
          <img class="main-img" src="${getGithubUrl(extensions[0])}" style="max-width: 100%; max-height: 100%; object-fit: contain;">
          <button class="dl-btn" style="display:none; position:absolute; bottom:5px; background:rgba(255,255,255,0.8); border:none; padding:2px 5px; font-size:10px; cursor:pointer;"> BING</button>
        </div>
        <p style="color:black; font-size:11px; font-weight:bold; margin-top:8px;">${char.n}</p>
      `;

      const imgTag = card.querySelector('.main-img');
      const dlBtn = card.querySelector('.dl-btn');

            // --- LOGIKA NAPRAWCZA OBRAZKW ---
      imgTag.onerror = function() {
                // Jeli s jeszcze inne formaty do sprawdzenia na GitHubie:
                if (currentExtIndex < extensions.length - 1) {
                    currentExtIndex++;
                    this.src = getGithubUrl(extensions[currentExtIndex]);
                } 
                // Jeli nic na GitHubie nie dziaa, we藕 z Binga:
                else if (this.src !== urlInternet) {
                    this.src = urlInternet;
                    dlBtn.style.display = "block";
                }
      };

      dlBtn.onclick = (e) => {
        e.stopPropagation();
        window.open(urlInternet, '_blank');
      };
     
            // ZMIANA: toggle klasy 'eliminated' zamiast 'hidden'
      card.onclick = () => card.classList.toggle('eliminated');
      grid.appendChild(card);
    });

    document.getElementById('menu').style.display = 'none';
    document.getElementById('game-area').style.display = 'block';
  }

    // Ulepszona funkcja kopiowania linku (zapobiega bdom z podw贸jnym '?')
  function copyRoomLink() {
    const code = document.getElementById('display-code').innerText;
        const url = new URL(window.location.origin + window.location.pathname);
        url.searchParams.set('room', code);
    navigator.clipboard.writeText(url.toString()).then(() => alert("Skopiowano link do pokoju!"));
  }

  window.onload = function() {
    const urlParams = new URLSearchParams(window.location.search);
    const room = urlParams.get('room');
        // Automatyczne wchodzenie do lobby jeli link zawiera kod
    if (room) { 
            document.getElementById('room-input').value = room.toUpperCase(); 
            enterLobby(room); 
        }
  }
</script>
</body>
</html>
